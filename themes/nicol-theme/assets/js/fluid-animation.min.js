"use strict";

function _classCallCheck(e, n) {
    if (!(e instanceof n)) throw new TypeError("Cannot call a class as a function")
}

function _defineProperties(e, n) {
    for (var r = 0; r < n.length; r++) {
        var t = n[r];
        t.enumerable = t.enumerable || !1, t.configurable = !0, "value" in t && (t.writable = !0), Object.defineProperty(e, t.key, t)
    }
}

function _createClass(e, n, r) {
    return n && _defineProperties(e.prototype, n), r && _defineProperties(e, r), e
}

function fluid_init() {
    var a = document.getElementsByTagName("canvas")[0];
    a.width = a.clientWidth, a.height = a.clientHeight;
    var e = a.getAttribute("data-fluid-bg") ? a.getAttribute("data-fluid-bg") : "#02030F",
        n = a.getAttribute("data-sim-resol") ? a.getAttribute("data-sim-resol") : 128,
        r = a.getAttribute("data-quality") ? a.getAttribute("data-quality") : 512,
        t = a.getAttribute("data-density") ? a.getAttribute("data-density") : .97,
        i = a.getAttribute("data-vorticity") ? a.getAttribute("data-vorticity") : 30,
        o = a.getAttribute("data-splat-radius") ? a.getAttribute("data-splat-radius") : .5,
        u = function(e) {
            var n = 0,
                r = 0,
                t = 0;
            4 == e.length ? (n = "0x" + e[1] + e[1], r = "0x" + e[2] + e[2], t = "0x" + e[3] + e[3]) : 7 == e.length && (n = "0x" + e[1] + e[2], r = "0x" + e[3] + e[4], t = "0x" + e[5] + e[6]);
            return {
                r: n,
                g: r,
                b: t
            }
        }(e),
        v = !!a.getAttribute("data-transparent") && JSON.parse(a.getAttribute("data-transparent")),
        m = {
            SIM_RESOLUTION: n,
            DYE_RESOLUTION: r,
            DENSITY_DISSIPATION: t,
            VELOCITY_DISSIPATION: .98,
            PRESSURE_DISSIPATION: .8,
            PRESSURE_ITERATIONS: 20,
            COLOR_UPDATE_SPEED: 10,
            CURL: i,
            SPLAT_RADIUS: o,
            SHADING: !1,
            PAUSED: !1,
            BACK_COLOR: {
                r: u.r,
                g: u.g,
                b: u.b
            },
            TRANSPARENT: v,
            BLOOM: !0,
            BLOOM_ITERATIONS: 8,
            BLOOM_RESOLUTION: 256,
            BLOOM_INTENSITY: .8,
            BLOOM_THRESHOLD: .6,
            BLOOM_SOFT_KNEE: .7
        };
    var f = [],
        l = [],
        c = [];
    f.push(new function() {
        this.id = -1, this.x = 0, this.y = 0, this.dx = 0, this.dy = 0, this.down = !1, this.moved = !1, this.color = [30, 0, 300]
    });
    var s = function(e) {
            var n = {
                    alpha: !0,
                    depth: !1,
                    stencil: !1,
                    antialias: !1,
                    preserveDrawingBuffer: !1
                },
                r = e.getContext("webgl2", n),
                t = !!r;
            t || (r = e.getContext("webgl", n) || e.getContext("experimental-webgl", n));
            n = t ? (r.getExtension("EXT_color_buffer_float"), r.getExtension("OES_texture_float_linear")) : (o = r.getExtension("OES_texture_half_float"), r.getExtension("OES_texture_half_float_linear"));
            r.clearColor(0, 0, 0, 1);
            var i, a, o = t ? r.HALF_FLOAT : o.HALF_FLOAT_OES;
            t = t ? (i = h(r, r.RGBA16F, r.RGBA, o), a = h(r, r.RG16F, r.RG, o), h(r, r.R16F, r.RED, o)) : (i = h(r, r.RGBA, r.RGBA, o), a = h(r, r.RGBA, r.RGBA, o), h(r, r.RGBA, r.RGBA, o));
            return {
                gl: r,
                ext: {
                    formatRGBA: i,
                    formatRG: a,
                    formatR: t,
                    halfFloatTexType: o,
                    supportLinearFiltering: n
                }
            }
        }(a),
        g = s.gl,
        T = s.ext;

    function h(e, n, r, t) {
        if (! function(e, n, r, t) {
                var i = e.createTexture();
                e.bindTexture(e.TEXTURE_2D, i), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.NEAREST), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.NEAREST), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.texImage2D(e.TEXTURE_2D, 0, n, 4, 4, 0, r, t, null);
                t = e.createFramebuffer();
                return e.bindFramebuffer(e.FRAMEBUFFER, t), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, i, 0), e.checkFramebufferStatus(e.FRAMEBUFFER) == e.FRAMEBUFFER_COMPLETE
            }(e, n, r, t)) switch (n) {
            case e.R16F:
                return h(e, e.RG16F, e.RG, t);
            case e.RG16F:
                return h(e, e.RGBA16F, e.RGBA, t);
            default:
                return null
        }
        return {
            internalFormat: n,
            format: r
        }
    }
    /Mobi|Android/i.test(navigator.userAgent) && (m.SHADING = !1), T.supportLinearFiltering || (m.SHADING = !1, m.BLOOM = !1);
    var d = function() {
        function a(e, n) {
            if (_classCallCheck(this, a), this.uniforms = {}, this.program = g.createProgram(), g.attachShader(this.program, e), g.attachShader(this.program, n), g.linkProgram(this.program), !g.getProgramParameter(this.program, g.LINK_STATUS)) throw g.getProgramInfoLog(this.program);
            for (var r = g.getProgramParameter(this.program, g.ACTIVE_UNIFORMS), t = 0; t < r; t++) {
                var i = g.getActiveUniform(this.program, t).name;
                this.uniforms[i] = g.getUniformLocation(this.program, i)
            }
        }
        return _createClass(a, [{
            key: "bind",
            value: function() {
                g.useProgram(this.program)
            }
        }]), a
    }();

    function x(e, n) {
        e = g.createShader(e);
        if (g.shaderSource(e, n), g.compileShader(e), !g.getShaderParameter(e, g.COMPILE_STATUS)) throw g.getShaderInfoLog(e);
        return e
    }
    var E, p, R, D, _, A, b, y, S, L, F, U = x(g.VERTEX_SHADER, "\n        precision highp float;\n    \n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform vec2 texelSize;\n    \n        void main () {\n            vUv = aPosition * 0.5 + 0.5;\n            vL = vUv - vec2(texelSize.x, 0.0);\n            vR = vUv + vec2(texelSize.x, 0.0);\n            vT = vUv + vec2(0.0, texelSize.y);\n            vB = vUv - vec2(0.0, texelSize.y);\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n    "),
        B = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n    \n        void main () {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n    "),
        w = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n    \n        uniform vec4 color;\n    \n        void main () {\n            gl_FragColor = color;\n        }\n    "),
        O = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float aspectRatio;\n    \n        #define SCALE 25.0\n    \n        void main () {\n            vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n            float v = mod(uv.x + uv.y, 2.0);\n            v = v * 0.1 + 0.8;\n            gl_FragColor = vec4(vec3(v), 1.0);\n        }\n    "),
        C = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n    \n        void main () {\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),
        N = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform sampler2D uBloom;\n        uniform sampler2D uDithering;\n        uniform vec2 ditherScale;\n    \n        void main () {\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            vec3 bloom = texture2D(uBloom, vUv).rgb;\n            vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n            noise = noise * 2.0 - 1.0;\n            bloom += noise / 800.0;\n            bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n            C += bloom;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),
        I = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform vec2 texelSize;\n    \n        void main () {\n            vec3 L = texture2D(uTexture, vL).rgb;\n            vec3 R = texture2D(uTexture, vR).rgb;\n            vec3 T = texture2D(uTexture, vT).rgb;\n            vec3 B = texture2D(uTexture, vB).rgb;\n            vec3 C = texture2D(uTexture, vUv).rgb;\n    \n            float dx = length(R) - length(L);\n            float dy = length(T) - length(B);\n    \n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n            vec3 l = vec3(0.0, 0.0, 1.0);\n    \n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n            C.rgb *= diffuse;\n    \n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),
        P = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform sampler2D uBloom;\n        uniform sampler2D uDithering;\n        uniform vec2 ditherScale;\n        uniform vec2 texelSize;\n    \n        void main () {\n            vec3 L = texture2D(uTexture, vL).rgb;\n            vec3 R = texture2D(uTexture, vR).rgb;\n            vec3 T = texture2D(uTexture, vT).rgb;\n            vec3 B = texture2D(uTexture, vB).rgb;\n            vec3 C = texture2D(uTexture, vUv).rgb;\n    \n            float dx = length(R) - length(L);\n            float dy = length(T) - length(B);\n    \n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n            vec3 l = vec3(0.0, 0.0, 1.0);\n    \n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n            C *= diffuse;\n    \n            vec3 bloom = texture2D(uBloom, vUv).rgb;\n            vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n            noise = noise * 2.0 - 1.0;\n            bloom += noise / 800.0;\n            bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n            C += bloom;\n    \n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),
        M = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform vec3 curve;\n        uniform float threshold;\n    \n        void main () {\n            vec3 c = texture2D(uTexture, vUv).rgb;\n            float br = max(c.r, max(c.g, c.b));\n            float rq = clamp(br - curve.x, 0.0, curve.y);\n            rq = curve.z * rq * rq;\n            c *= max(rq, br - threshold) / max(br, 0.0001);\n            gl_FragColor = vec4(c, 0.0);\n        }\n    "),
        G = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n    \n        void main () {\n            vec4 sum = vec4(0.0);\n            sum += texture2D(uTexture, vL);\n            sum += texture2D(uTexture, vR);\n            sum += texture2D(uTexture, vT);\n            sum += texture2D(uTexture, vB);\n            sum *= 0.25;\n            gl_FragColor = sum;\n        }\n    "),
        e = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform float intensity;\n    \n        void main () {\n            vec4 sum = vec4(0.0);\n            sum += texture2D(uTexture, vL);\n            sum += texture2D(uTexture, vR);\n            sum += texture2D(uTexture, vT);\n            sum += texture2D(uTexture, vB);\n            sum *= 0.25;\n            gl_FragColor = sum * intensity;\n        }\n    "),
        n = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n    \n        void main () {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n    "),
        r = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform vec2 dyeTexelSize;\n        uniform float dt;\n        uniform float dissipation;\n    \n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n            vec2 st = uv / tsize - 0.5;\n    \n            vec2 iuv = floor(st);\n            vec2 fuv = fract(st);\n    \n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n    \n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n        }\n    \n        void main () {\n            vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n            gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\n            gl_FragColor.a = 1.0;\n        }\n    "),
        t = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform float dt;\n        uniform float dissipation;\n    \n        void main () {\n            vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n            gl_FragColor = dissipation * texture2D(uSource, coord);\n            gl_FragColor.a = 1.0;\n        }\n    "),
        i = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n    \n        void main () {\n            float L = texture2D(uVelocity, vL).x;\n            float R = texture2D(uVelocity, vR).x;\n            float T = texture2D(uVelocity, vT).y;\n            float B = texture2D(uVelocity, vB).y;\n    \n            vec2 C = texture2D(uVelocity, vUv).xy;\n            if (vL.x < 0.0) { L = -C.x; }\n            if (vR.x > 1.0) { R = -C.x; }\n            if (vT.y > 1.0) { T = -C.y; }\n            if (vB.y < 0.0) { B = -C.y; }\n    \n            float div = 0.5 * (R - L + T - B);\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n        }\n    "),
        o = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n    \n        void main () {\n            float L = texture2D(uVelocity, vL).y;\n            float R = texture2D(uVelocity, vR).y;\n            float T = texture2D(uVelocity, vT).x;\n            float B = texture2D(uVelocity, vB).x;\n            float vorticity = R - L - T + B;\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n        }\n    "),
        u = x(g.FRAGMENT_SHADER, "\n        precision highp float;\n        precision highp sampler2D;\n    \n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uCurl;\n        uniform float curl;\n        uniform float dt;\n    \n        void main () {\n            float L = texture2D(uCurl, vL).x;\n            float R = texture2D(uCurl, vR).x;\n            float T = texture2D(uCurl, vT).x;\n            float B = texture2D(uCurl, vB).x;\n            float C = texture2D(uCurl, vUv).x;\n    \n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n            force /= length(force) + 0.0001;\n            force *= curl * C;\n            force.y *= -1.0;\n    \n            vec2 vel = texture2D(uVelocity, vUv).xy;\n            gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n        }\n    "),
        v = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uDivergence;\n    \n        vec2 boundary (vec2 uv) {\n            return uv;\n            // uncomment if you use wrap or repeat texture mode\n            // uv = min(max(uv, 0.0), 1.0);\n            // return uv;\n        }\n    \n        void main () {\n            float L = texture2D(uPressure, boundary(vL)).x;\n            float R = texture2D(uPressure, boundary(vR)).x;\n            float T = texture2D(uPressure, boundary(vT)).x;\n            float B = texture2D(uPressure, boundary(vB)).x;\n            float C = texture2D(uPressure, vUv).x;\n            float divergence = texture2D(uDivergence, vUv).x;\n            float pressure = (L + R + B + T - divergence) * 0.25;\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n        }\n    "),
        s = x(g.FRAGMENT_SHADER, "\n        precision mediump float;\n        precision mediump sampler2D;\n    \n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uVelocity;\n    \n        vec2 boundary (vec2 uv) {\n            return uv;\n            // uv = min(max(uv, 0.0), 1.0);\n            // return uv;\n        }\n    \n        void main () {\n            float L = texture2D(uPressure, boundary(vL)).x;\n            float R = texture2D(uPressure, boundary(vR)).x;\n            float T = texture2D(uPressure, boundary(vT)).x;\n            float B = texture2D(uPressure, boundary(vB)).x;\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity.xy -= vec2(R - L, T - B);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n    "),
        H = (g.bindBuffer(g.ARRAY_BUFFER, g.createBuffer()), g.bufferData(g.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), g.STATIC_DRAW), g.bindBuffer(g.ELEMENT_ARRAY_BUFFER, g.createBuffer()), g.bufferData(g.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), g.STATIC_DRAW), g.vertexAttribPointer(0, 2, g.FLOAT, !1, 0, 0), g.enableVertexAttribArray(0), function(e) {
            g.bindFramebuffer(g.FRAMEBUFFER, e), g.drawElements(g.TRIANGLES, 6, g.UNSIGNED_SHORT, 0)
        }),
        X = (F = g.createTexture(), g.bindTexture(g.TEXTURE_2D, F), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, g.LINEAR), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, g.LINEAR), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.REPEAT), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.REPEAT), g.texImage2D(g.TEXTURE_2D, 0, g.RGB, 1, 1, 0, g.RGB, g.UNSIGNED_BYTE, new Uint8Array([255, 255, 255])), {
            texture: F,
            width: 1,
            height: 1,
            attach: function(e) {
                return g.activeTexture(g.TEXTURE0 + e), g.bindTexture(g.TEXTURE_2D, F), e
            }
        }),
        z = new d(U, B),
        V = new d(U, w),
        Y = new d(U, O),
        W = new d(U, C),
        k = new d(U, N),
        q = new d(U, I),
        K = new d(U, P),
        j = new d(U, M),
        J = new d(U, G),
        Q = new d(U, e),
        Z = new d(U, n),
        $ = new d(U, T.supportLinearFiltering ? t : r),
        ee = new d(U, i),
        ne = new d(U, o),
        re = new d(U, u),
        te = new d(U, v),
        ie = new d(U, s);

    function ae() {
        var e = he(m.SIM_RESOLUTION),
            n = he(m.DYE_RESOLUTION);
        E = e.width, p = e.height, R = n.width, D = n.height;
        var r = T.halfFloatTexType,
            t = T.formatRGBA,
            i = T.formatRG,
            e = T.formatR,
            n = T.supportLinearFiltering ? g.LINEAR : g.NEAREST;
        _ = null == _ ? ue(R, D, t.internalFormat, t.format, r, n) : ve(_, R, D, t.internalFormat, t.format, r, n), A = null == A ? ue(E, p, i.internalFormat, i.format, r, n) : ve(A, E, p, i.internalFormat, i.format, r, n), b = oe(E, p, e.internalFormat, e.format, r, g.NEAREST), y = oe(E, p, e.internalFormat, e.format, r, g.NEAREST), S = ue(E, p, e.internalFormat, e.format, r, g.NEAREST),
            function() {
                var e = he(m.BLOOM_RESOLUTION),
                    n = T.halfFloatTexType,
                    r = T.formatRGBA,
                    t = T.supportLinearFiltering ? g.LINEAR : g.NEAREST;
                L = oe(e.width, e.height, r.internalFormat, r.format, n, t);
                for (var i = c.length = 0; i < m.BLOOM_ITERATIONS; i++) {
                    var a = e.width >> i + 1,
                        o = e.height >> i + 1;
                    if (a < 2 || o < 2) break;
                    o = oe(a, o, r.internalFormat, r.format, n, t);
                    c.push(o)
                }
            }()
    }

    function oe(e, n, r, t, i, a) {
        g.activeTexture(g.TEXTURE0);
        var o = g.createTexture();
        g.bindTexture(g.TEXTURE_2D, o), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, a), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, a), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE), g.texImage2D(g.TEXTURE_2D, 0, r, e, n, 0, t, i, null);
        i = g.createFramebuffer();
        return g.bindFramebuffer(g.FRAMEBUFFER, i), g.framebufferTexture2D(g.FRAMEBUFFER, g.COLOR_ATTACHMENT0, g.TEXTURE_2D, o, 0), g.viewport(0, 0, e, n), g.clear(g.COLOR_BUFFER_BIT), {
            texture: o,
            fbo: i,
            width: e,
            height: n,
            attach: function(e) {
                return g.activeTexture(g.TEXTURE0 + e), g.bindTexture(g.TEXTURE_2D, o), e
            }
        }
    }

    function ue(e, n, r, t, i, a) {
        var o = oe(e, n, r, t, i, a),
            u = oe(e, n, r, t, i, a);
        return {
            get read() {
                return o
            },
            set read(e) {
                o = e
            },
            get write() {
                return u
            },
            set write(e) {
                u = e
            },
            swap: function() {
                var e = o;
                o = u, u = e
            }
        }
    }

    function ve(e, n, r, t, i, a, o) {
        var u, v;
        return e.read = (u = e.read, v = oe(n, r, t, i, a, v = o), z.bind(), g.uniform1i(z.uniforms.uTexture, u.attach(0)), g.uniform1f(z.uniforms.value, 1), H(v.fbo), v), e.write = oe(n, r, t, i, a, o), e
    }

    function fe() {
        0 < l.length && se(l.pop());
        for (var e = 0; e < f.length; e++) {
            var n = f[e];
            n.moved && (ce(n.x, n.y, n.dx, n.dy, n.color), n.moved = !1)
        }
    }

    function me(e) {
        g.disable(g.BLEND), g.viewport(0, 0, E, p), ne.bind(), g.uniform2f(ne.uniforms.texelSize, 1 / E, 1 / p), g.uniform1i(ne.uniforms.uVelocity, A.read.attach(0)), H(y.fbo), re.bind(), g.uniform2f(re.uniforms.texelSize, 1 / E, 1 / p), g.uniform1i(re.uniforms.uVelocity, A.read.attach(0)), g.uniform1i(re.uniforms.uCurl, y.attach(1)), g.uniform1f(re.uniforms.curl, m.CURL), g.uniform1f(re.uniforms.dt, e), H(A.write.fbo), A.swap(), ee.bind(), g.uniform2f(ee.uniforms.texelSize, 1 / E, 1 / p), g.uniform1i(ee.uniforms.uVelocity, A.read.attach(0)), H(b.fbo), z.bind(), g.uniform1i(z.uniforms.uTexture, S.read.attach(0)), g.uniform1f(z.uniforms.value, m.PRESSURE_DISSIPATION), H(S.write.fbo), S.swap(), te.bind(), g.uniform2f(te.uniforms.texelSize, 1 / E, 1 / p), g.uniform1i(te.uniforms.uDivergence, b.attach(0));
        for (var n = 0; n < m.PRESSURE_ITERATIONS; n++) g.uniform1i(te.uniforms.uPressure, S.read.attach(1)), H(S.write.fbo), S.swap();
        ie.bind(), g.uniform2f(ie.uniforms.texelSize, 1 / E, 1 / p), g.uniform1i(ie.uniforms.uPressure, S.read.attach(0)), g.uniform1i(ie.uniforms.uVelocity, A.read.attach(1)), H(A.write.fbo), A.swap(), $.bind(), g.uniform2f($.uniforms.texelSize, 1 / E, 1 / p), T.supportLinearFiltering || g.uniform2f($.uniforms.dyeTexelSize, 1 / E, 1 / p);
        var r = A.read.attach(0);
        g.uniform1i($.uniforms.uVelocity, r), g.uniform1i($.uniforms.uSource, r), g.uniform1f($.uniforms.dt, e), g.uniform1f($.uniforms.dissipation, m.VELOCITY_DISSIPATION), H(A.write.fbo), A.swap(), g.viewport(0, 0, R, D), T.supportLinearFiltering || g.uniform2f($.uniforms.dyeTexelSize, 1 / R, 1 / D), g.uniform1i($.uniforms.uVelocity, A.read.attach(0)), g.uniform1i($.uniforms.uSource, _.read.attach(1)), g.uniform1f($.uniforms.dissipation, m.DENSITY_DISSIPATION), H(_.write.fbo), _.swap()
    }

    function le(e) {
        m.BLOOM && function(e, n) {
            if (!(c.length < 2)) {
                var r = n;
                g.disable(g.BLEND), j.bind();
                var t = m.BLOOM_THRESHOLD * m.BLOOM_SOFT_KNEE + 1e-4,
                    i = m.BLOOM_THRESHOLD - t,
                    a = 2 * t,
                    t = .25 / t;
                g.uniform3f(j.uniforms.curve, i, a, t), g.uniform1f(j.uniforms.threshold, m.BLOOM_THRESHOLD), g.uniform1i(j.uniforms.uTexture, e.attach(0)), g.viewport(0, 0, r.width, r.height), H(r.fbo), J.bind();
                for (var o = 0; o < c.length; o++) {
                    var u = c[o];
                    g.uniform2f(J.uniforms.texelSize, 1 / r.width, 1 / r.height), g.uniform1i(J.uniforms.uTexture, r.attach(0)), g.viewport(0, 0, u.width, u.height), H(u.fbo), r = u
                }
                g.blendFunc(g.ONE, g.ONE), g.enable(g.BLEND);
                for (var v = c.length - 2; 0 <= v; v--) {
                    var f = c[v];
                    g.uniform2f(J.uniforms.texelSize, 1 / r.width, 1 / r.height), g.uniform1i(J.uniforms.uTexture, r.attach(0)), g.viewport(0, 0, f.width, f.height), H(f.fbo), r = f
                }
                g.disable(g.BLEND), Q.bind(), g.uniform2f(Q.uniforms.texelSize, 1 / r.width, 1 / r.height), g.uniform1i(Q.uniforms.uTexture, r.attach(0)), g.uniform1f(Q.uniforms.intensity, m.BLOOM_INTENSITY), g.viewport(0, 0, n.width, n.height), H(n.fbo)
            }
        }(_.read, L), null != e && m.TRANSPARENT ? g.disable(g.BLEND) : (g.blendFunc(g.ONE, g.ONE_MINUS_SRC_ALPHA), g.enable(g.BLEND));
        var n, r, t = null == e ? g.drawingBufferWidth : R,
            i = null == e ? g.drawingBufferHeight : D;
        g.viewport(0, 0, t, i), m.TRANSPARENT || (V.bind(), n = m.BACK_COLOR, g.uniform4f(V.uniforms.color, n.r / 255, n.g / 255, n.b / 255, 1), H(e)), null == e && m.TRANSPARENT && (Y.bind(), g.uniform1f(Y.uniforms.aspectRatio, a.width / a.height), H(null)), m.SHADING ? ((n = m.BLOOM ? K : q).bind(), g.uniform2f(n.uniforms.texelSize, 1 / t, 1 / i), g.uniform1i(n.uniforms.uTexture, _.read.attach(0)), m.BLOOM && (g.uniform1i(n.uniforms.uBloom, L.attach(1)), g.uniform1i(n.uniforms.uDithering, X.attach(2)), r = de(X, t, i), g.uniform2f(n.uniforms.ditherScale, r.x, r.y))) : ((r = m.BLOOM ? k : W).bind(), g.uniform1i(r.uniforms.uTexture, _.read.attach(0)), m.BLOOM && (g.uniform1i(r.uniforms.uBloom, L.attach(1)), g.uniform1i(r.uniforms.uDithering, X.attach(2)), i = de(X, t, i), g.uniform2f(r.uniforms.ditherScale, i.x, i.y))), H(e)
    }

    function ce(e, n, r, t, i) {
        g.viewport(0, 0, E, p), Z.bind(), g.uniform1i(Z.uniforms.uTarget, A.read.attach(0)), g.uniform1f(Z.uniforms.aspectRatio, a.width / a.height), g.uniform2f(Z.uniforms.point, e / a.width, 1 - n / a.height), g.uniform3f(Z.uniforms.color, r, -t, 1), g.uniform1f(Z.uniforms.radius, m.SPLAT_RADIUS / 100), H(A.write.fbo), A.swap(), g.viewport(0, 0, R, D), g.uniform1i(Z.uniforms.uTarget, _.read.attach(0)), g.uniform3f(Z.uniforms.color, i.r, i.g, i.b), H(_.write.fbo), _.swap()
    }

    function se(e) {
        for (var n = 0; n < e; n++) {
            var r = Te();
            r.r *= 10, r.g *= 10, r.b *= 10, ce(a.width * Math.random(), a.height * Math.random(), 1e3 * (Math.random() - .5), 1e3 * (Math.random() - .5), r)
        }
    }

    function ge() {
        a.width == a.clientWidth && a.height == a.clientHeight || (a.width = a.clientWidth, a.height = a.clientHeight, ae())
    }

    function Te() {
        var e = function(e, n, r) {
            var t, i, a, o, u, v, f;
            switch (o = Math.floor(6 * e), u = r * (1 - n), v = r * (1 - (e = 6 * e - o) * n), f = r * (1 - (1 - e) * n), o % 6) {
                case 0:
                    t = r, i = f, a = u;
                    break;
                case 1:
                    t = v, i = r, a = u;
                    break;
                case 2:
                    t = u, i = r, a = f;
                    break;
                case 3:
                    t = u, i = v, a = r;
                    break;
                case 4:
                    t = f, i = u, a = r;
                    break;
                case 5:
                    t = r, i = u, a = v
            }
            return {
                r: t,
                g: i,
                b: a
            }
        }(Math.random(), 1, 1);
        return e.r *= .15, e.g *= .15, e.b *= .15, e
    }

    function he(e) {
        var n = g.drawingBufferWidth / g.drawingBufferHeight;
        n < 1 && (n = 1 / n);
        n = Math.round(e * n), e = Math.round(e);
        return g.drawingBufferWidth > g.drawingBufferHeight ? {
            width: n,
            height: e
        } : {
            width: e,
            height: n
        }
    }

    function de(e, n, r) {
        return {
            x: n / e.width,
            y: r / e.height
        }
    }
    ae(), se(parseInt(20 * Math.random()) + 5),
        function e() {
            ge();
            fe();
            m.PAUSED || me(.016);
            le(null);
            requestAnimationFrame(e)
        }(), document.querySelector(".css_prefix").addEventListener("mousemove", function(e) {
            f[0].down = !0, f[0].color = Te(), f[0].moved = f[0].down, f[0].dx = 5 * (e.clientX - f[0].x), f[0].dy = 5 * (e.clientY - f[0].y), f[0].x = e.clientX, f[0].y = e.clientY
        });
    s = document.querySelector(".css_prefix-boom");
    null !== s && s.addEventListener("click", function(e) {
        se(parseInt(20 * Math.random()) + 5)
    })
}
window.ajax_flag ? fluid_init() : window.onload = function() {
    fluid_init()
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsdWlkLWFuaW1hdGlvbi5qcyJdLCJuYW1lcyI6WyJmbHVpZF9pbml0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJmbHVpZF9iZyIsImdldEF0dHJpYnV0ZSIsInNpbV9yZXNvbCIsImN1cnZfdm9ydGljaXR5Iiwic3BsYXRfcmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwiQkxPT01fVEhSRVNIT0xEIiwiaCIsIkJMT09NX1NPRlRfS05FRSIsImciLCJiIiwiciIsImxlbmd0aCIsInRyYW5zcGFyZW50IiwiZGVuc2l0eV9kaXNwIiwiSlNPTiIsImNvbmZpZyIsIlNJTV9SRVNPTFVUSU9OIiwiRFlFX1JFU09MVVRJT04iLCJERU5TSVRZX0RJU1NJUEFUSU9OIiwiVkVMT0NJVFlfRElTU0lQQVRJT04iLCJxdWFsaXR5IiwiUFJFU1NVUkVfRElTU0lQQVRJT04iLCJQUkVTU1VSRV9JVEVSQVRJT05TIiwiQ09MT1JfVVBEQVRFX1NQRUVEIiwiQ1VSTCIsIlNQTEFUX1JBRElVUyIsIlNIQURJTkciLCJQQVVTRUQiLCJCTE9PTV9SRVNPTFVUSU9OIiwiVFJBTlNQQVJFTlQiLCJCTE9PTSIsIkJMT09NX0lURVJBVElPTlMiLCJwb2ludGVycyIsInNwbGF0U3RhY2siLCJibG9vbUZyYW1lYnVmZmVycyIsInRoaXMiLCJpZCIsInBvaW50ZXJQcm90b3R5cGUiLCJ4IiwieSIsImR4IiwiZHkiLCJkb3duIiwibW92ZWQiLCJjb2xvciIsIl9nZXRXZWJHTENvbnRleHQiLCJwYXJhbXMiLCJhbHBoYSIsImRlcHRoIiwic3RlbmNpbCIsImFudGlhbGlhcyIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImdsIiwiaXNXZWJHTDIiLCJnZXRDb250ZXh0Iiwic3VwcG9ydExpbmVhckZpbHRlcmluZyIsImhhbGZGbG9hdCIsImdldEV4dGVuc2lvbiIsImNsZWFyQ29sb3IiLCJmb3JtYXRSR0JBIiwiZm9ybWF0UkciLCJmb3JtYXRSIiwiSEFMRl9GTE9BVCIsIkhBTEZfRkxPQVRfT0VTIiwiZ2V0U3VwcG9ydGVkRm9ybWF0IiwiUkdCQTE2RiIsIlJHQkEiLCJoYWxmRmxvYXRUZXhUeXBlIiwiUkcxNkYiLCJSRyIsIlIxNkYiLCJSRUQiLCJnZXRXZWJHTENvbnRleHQiLCJleHQiLCJmb3JtYXQiLCJ0eXBlIiwidGV4dHVyZSIsImludGVybmFsRm9ybWF0IiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfMkQiLCJDTEFNUF9UT19FREdFIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJURVhUVVJFX1dSQVBfVCIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZmJvIiwic3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyIsImlzTW9iaWxlIiwic3VwcG9ydFJlbmRlclRleHR1cmVGb3JtYXQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiR0xQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwicHJvZ3JhbSIsInZlcnRleFNoYWRlciIsInVuaWZvcm1zIiwibGlua1Byb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwidW5pZm9ybUNvdW50IiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsImZyYWdtZW50U2hhZGVyIiwidW5pZm9ybU5hbWUiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJnZXRQcm9ncmFtSW5mb0xvZyIsIkFDVElWRV9VTklGT1JNUyIsImkiLCJnZXRBY3RpdmVVbmlmb3JtIiwibmFtZSIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwidXNlUHJvZ3JhbSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsInNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJiYXNlVmVydGV4U2hhZGVyIiwic2ltV2lkdGgiLCJzaW1IZWlnaHQiLCJkeWVXaWR0aCIsImRlbnNpdHkiLCJ2ZWxvY2l0eSIsImRpdmVyZ2VuY2UiLCJjdXJsIiwiYmFja2dyb3VuZFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImJ1ZmZlckRhdGEiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsImRpc3BsYXlQcm9ncmFtIiwiaW5pdEJsb29tRnJhbWVidWZmZXJzIiwiYmluZFRleHR1cmUiLCJmYm8xIiwiYmxvb21CbHVyU2hhZGVyIiwic3RlcCIsImRpc2FibGUiLCJwcmVzc3VyZSIsImFkdmVjdGlvbk1hbnVhbEZpbHRlcmluZ1NoYWRlciIsImF0dGFjaCIsImNvbG9yUHJvZ3JhbSIsInVEaXRoZXJpbmciLCJibG9vbVByZWZpbHRlclByb2dyYW0iLCJibGVuZEZ1bmMiLCJ2aWV3cG9ydCIsImR5ZUhlaWdodCIsImdlbmVyYXRlQ29sb3IiLCJibGl0IiwidiIsImNyZWF0ZUJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiYmluZEJ1ZmZlciIsIlVpbnQxNkFycmF5IiwiRkxPQVQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRlc3RpbmF0aW9uIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJkaXRoZXJpbmdUZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIkxJTkVBUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiUkVQRUFUIiwidGV4SW1hZ2UyRCIsIlJHQiIsIlVOU0lHTkVEX0JZVEUiLCJVaW50OEFycmF5IiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiY2xlYXJQcm9ncmFtIiwiY2xlYXJTaGFkZXIiLCJnZXRSZXNvbHV0aW9uIiwicmVzb2x1dGlvbiIsImNvbG9yU2hhZGVyIiwiYmFja2dyb3VuZFByb2dyYW0iLCJkcmF3aW5nQnVmZmVyV2lkdGgiLCJkcmF3aW5nQnVmZmVySGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJkaXNwbGF5U2hhZGVyIiwiZGlzcGxheUJsb29tUHJvZ3JhbSIsImRpc3BsYXlCbG9vbVNoYWRlciIsImRpc3BsYXlTaGFkaW5nUHJvZ3JhbSIsImRpc3BsYXlTaGFkaW5nU2hhZGVyIiwiZGlzcGxheUJsb29tU2hhZGluZ1Byb2dyYW0iLCJkaXNwbGF5Qmxvb21TaGFkaW5nU2hhZGVyIiwiYmxvb21QcmVmaWx0ZXJTaGFkZXIiLCJtaW4iLCJibG9vbUZpbmFsUHJvZ3JhbSIsImJsb29tRmluYWxTaGFkZXIiLCJzcGxhdFNoYWRlciIsIm1heCIsImRpdmVyZ2VuY2VQcm9ncmFtIiwiZGl2ZXJnZW5jZVNoYWRlciIsImN1cmxQcm9ncmFtIiwiY3VybFNoYWRlciIsInZvcnRpY2l0eVByb2dyYW0iLCJ2b3J0aWNpdHlTaGFkZXIiLCJwcmVzc3VyZVByb2dyYW0iLCJnZXRUZXh0dXJlU2NhbGUiLCJwcmVzc3VyZVNoYWRlciIsImdyYWRpZW5TdWJ0cmFjdFByb2dyYW0iLCJncmFkaWVudFN1YnRyYWN0U2hhZGVyIiwic2ltUmVzIiwiZHllUmVzIiwiYm9vbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0ZXhUeXBlIiwicmdiYSIsInJnIiwiZmlsdGVyaW5nIiwiTkVBUkVTVCIsImNyZWF0ZURvdWJsZUZCTyIsInJlc2l6ZURvdWJsZUZCTyIsImNyZWF0ZUZCTyIsInJlcyIsImJsb29tIiwicHVzaCIsInciLCJwYXJhbSIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsImZibzIiLCJyZWFkIiwid3JpdGUiLCJzd2FwIiwidGVtcCIsInRhcmdldCIsIm5ld0ZCTyIsImJpbmQiLCJ1bmlmb3JtMWkiLCJ1VGV4dHVyZSIsInVuaWZvcm0xZiIsImlucHV0IiwibXVsdGlwbGVTcGxhdHMiLCJwb3AiLCJwIiwic3BsYXQiLCJkdCIsIkJMRU5EIiwidW5pZm9ybTJmIiwidGV4ZWxTaXplIiwidVZlbG9jaXR5IiwidUN1cmwiLCJ1RGl2ZXJnZW5jZSIsInVQcmVzc3VyZSIsImFkdmVjdGlvblByb2dyYW0iLCJkeWVUZXhlbFNpemUiLCJ2ZWxvY2l0eUlkIiwidVNvdXJjZSIsImRpc3NpcGF0aW9uIiwicmVuZGVyIiwibGFzdCIsImtuZWUiLCJjdXJ2ZTAiLCJjdXJ2ZTEiLCJjdXJ2ZTIiLCJ1bmlmb3JtM2YiLCJjdXJ2ZSIsInRocmVzaG9sZCIsImJsb29tQmx1clByb2dyYW0iLCJkZXN0IiwiT05FIiwiZW5hYmxlIiwiYmFzZVRleCIsImludGVuc2l0eSIsIkJMT09NX0lOVEVOU0lUWSIsImFwcGx5Qmxvb20iLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiYmMiLCJCQUNLX0NPTE9SIiwidW5pZm9ybTRmIiwidUJsb29tIiwic2NhbGUiLCJkaXRoZXJTY2FsZSIsInNwbGF0UHJvZ3JhbSIsInVUYXJnZXQiLCJwb2ludCIsInJhZGl1cyIsImFtb3VudCIsIk1hdGgiLCJyYW5kb20iLCJyZXNpemVDYW52YXMiLCJpbml0RnJhbWVidWZmZXJzIiwiYyIsInMiLCJxIiwidCIsImZsb29yIiwiZiIsIkhTVnRvUkdCIiwicm91bmQiLCJwYXJzZUludCIsInVwZGF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJlIiwiY2xpZW50WCIsImNsaWVudFkiLCJ3aW5kb3ciLCJhamF4X2ZsYWciLCJvbmxvYWQiXSwibWFwcGluZ3MiOiJtWkFJQyxTQUFNQSxhQUdMLElBRkRDLEVBQUFDLFNBQUFDLHFCQUFBLFVBQUEsR0FHQUYsRUFBQUcsTUFBQUgsRUFBQUksWUFPQUosRUFBT0ssT0FBU0wsRUFBT00sYUFKdkIsSUFBQUMsRUFBQVAsRUFBQVEsYUFBQSxpQkFBQVIsRUFBQVEsYUFBQSxpQkFBQSxVQUVBQyxFQUFZVCxFQUFHQyxhQUFTQyxrQkFBVEYsRUFBZlEsYUFBQSxrQkFBQSxJQUNBUixFQUFPRyxFQUFRSCxhQUFPSSxnQkFBdEJKLEVBQUFRLGFBQUEsZ0JBQUEsSUFDQVIs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QyxFQUFRaUYsRUFBUWpGLE1BQ25CNEMsRUFBRzFDLEVBQVMrRSxFQUFRL0UsUUE5VHRCeVMsS0FDQWpELEdBQWUwRCxTQUF5QixHQUFoQlosS0FBS0MsVUFBaUIsR0FHOUMsU0FBU1ksSUFDUlgsS0FDQWpELEtBQ0tyTyxFQUFPWSxRQUNYbUgsR0FBSyxNQUNOd0gsR0FBTyxNQUNQMkMsc0JBQXNCRCxHQVJ2QkEsR0E4T0F2VCxTQUFTeVQsY0FBYyxlQUFlekYsaUJBQWlCLFlBQWEsU0FBQTBGLEdBQ25FblIsRUFBUyxHQUFHVSxNQUFPLEVBQ25CVixFQUFTLEdBQUdZLE1BQVE2RyxLQUNwQnpILEVBQVMsR0FBR1csTUFBUVgsRUFBUyxHQUFHVSxLQUNoQ1YsRUFBUyxHQUFHUSxHQUFtQyxHQUE3QjJRLEVBQUVDLFFBQVVwUixFQUFTLEdBQUdNLEdBQzFDTixFQUFTLEdBQUdTLEdBQW1DLEdBQTdCMFEsRUFBRUUsUUFBVXJSLEVBQVMsR0FBR08sR0FDMUNQLEVBQVMsR0FBR00sRUFBSTZRLEVBQUVDLFFBQ2xCcFIsRUFBUyxHQUFHTyxFQUFJNFEsRUFBRUUsVUEwRWY3RixFQUFPL04sU0FBU3lULGNBQWMsb0JBQ3JCLE9BQVQxRixHQUNIQSxFQUFLQyxpQkFBaUIsUUFBUyxTQUFVMEYsR0FDeEM5RCxHQUFlMEQsU0FBeUIsR0FBaEJaLEtBQUtDLFVBQWlCLEtBMXFDN0NrQixPQUFPQyxVQUNWaFUsYUFFQStULE9BQU9FLE9BQVMsV0FDZmpVIiwiZmlsZSI6ImZsdWlkLWFuaW1hdGlvbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmICh3aW5kb3cuYWpheF9mbGFnKSB7XG5cdGZsdWlkX2luaXQoKTtcbn0gZWxzZSB7XG5cdHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Zmx1aWRfaW5pdCgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZsdWlkX2luaXQoKSB7XG5cdC8vIFNpbXVsYXRpb24gc2VjdGlvblxuXG5cdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXTtcblx0Y2FudmFzLndpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuXHRjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblxuXHRsZXQgZmx1aWRfYmcgPSBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZsdWlkLWJnJykgPyBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZsdWlkLWJnJykgOiBcIiMwMjAzMEZcIixcblx0XHRzaW1fcmVzb2wgPSBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNpbS1yZXNvbCcpID8gY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS1zaW0tcmVzb2wnKSA6IDEyOCxcblx0XHRxdWFsaXR5ID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS1xdWFsaXR5JykgPyBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLXF1YWxpdHknKSA6IDUxMixcblx0XHRkZW5zaXR5X2Rpc3AgPSBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLWRlbnNpdHknKSA/IGNhbnZhcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGVuc2l0eScpIDogMC45Nyxcblx0XHRjdXJ2X3ZvcnRpY2l0eSA9IGNhbnZhcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdm9ydGljaXR5JykgPyBjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLXZvcnRpY2l0eScpIDogMzAsXG5cdFx0c3BsYXRfcmFkaXVzID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS1zcGxhdC1yYWRpdXMnKSA/IGNhbnZhcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3BsYXQtcmFkaXVzJykgOiAwLjUsXG5cdFx0YmFja2dyb3VuZENvbG9yID0gaGV4VG9SR0IoZmx1aWRfYmcpLFxuXHRcdHRyYW5zcGFyZW50ID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS10cmFuc3BhcmVudCcpID8gSlNPTi5wYXJzZShjYW52YXMuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zcGFyZW50JykpIDogZmFsc2U7XG5cdGxldCBjb25maWcgPSB7XG5cdFx0U0lNX1JFU09MVVRJT046IHNpbV9yZXNvbCxcblx0XHREWUVfUkVTT0xVVElPTjogcXVhbGl0eSxcblx0XHRERU5TSVRZX0RJU1NJUEFUSU9OOiBkZW5zaXR5X2Rpc3AsXG5cdFx0VkVMT0NJVFlfRElTU0lQQVRJT046IDAuOTgsXG5cdFx0UFJFU1NVUkVfRElTU0lQQVRJT046IDAuOCxcblx0XHRQUkVTU1VSRV9JVEVSQVRJT05TOiAyMCxcblx0XHRDT0xPUl9VUERBVEVfU1BFRUQ6IDEwLFxuXHRcdENVUkw6IGN1cnZfdm9ydGljaXR5LFxuXHRcdFNQTEFUX1JBRElVUzogc3BsYXRfcmFkaXVzLFxuXHRcdFNIQURJTkc6IGZhbHNlLFxuXHRcdFBBVVNFRDogZmFsc2UsXG5cdFx0QkFDS19DT0xPUjoge1xuXHRcdFx0cjogYmFja2dyb3VuZENvbG9yLnIsXG5cdFx0XHRnOiBiYWNrZ3JvdW5kQ29sb3IuZyxcblx0XHRcdGI6IGJhY2tncm91bmRDb2xvci5iXG5cdFx0fSxcblx0XHRUUkFOU1BBUkVOVDogdHJhbnNwYXJlbnQsXG5cdFx0QkxPT006IHRydWUsXG5cdFx0QkxPT01fSVRFUkFUSU9OUzogOCxcblx0XHRCTE9PTV9SRVNPTFVUSU9OOiAyNTYsXG5cdFx0QkxPT01fSU5URU5TSVRZOiAwLjgsXG5cdFx0QkxPT01fVEhSRVNIT0xEOiAwLjYsXG5cdFx0QkxPT01fU09GVF9LTkVFOiAwLjdcblx0fVxuXG5cdGZ1bmN0aW9uIGhleFRvUkdCKGgpIHtcblx0XHRsZXQgciA9IDAsXG5cdFx0XHRnID0gMCxcblx0XHRcdGIgPSAwO1xuXG5cdFx0Ly8gMyBkaWdpdHNcblx0XHRpZiAoaC5sZW5ndGggPT0gNCkge1xuXHRcdFx0ciA9IFwiMHhcIiArIGhbMV0gKyBoWzFdO1xuXHRcdFx0ZyA9IFwiMHhcIiArIGhbMl0gKyBoWzJdO1xuXHRcdFx0YiA9IFwiMHhcIiArIGhbM10gKyBoWzNdO1xuXG5cdFx0XHQvLyA2IGRpZ2l0c1xuXHRcdH0gZWxzZSBpZiAoaC5sZW5ndGggPT0gNykge1xuXHRcdFx0ciA9IFwiMHhcIiArIGhbMV0gKyBoWzJdO1xuXHRcdFx0ZyA9IFwiMHhcIiArIGhbM10gKyBoWzRdO1xuXHRcdFx0YiA9IFwiMHhcIiArIGhbNV0gKyBoWzZdO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRyLFxuXHRcdFx0Zyxcblx0XHRcdGJcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gcG9pbnRlclByb3RvdHlwZSgpIHtcblx0XHR0aGlzLmlkID0gLTE7XG5cdFx0dGhpcy54ID0gMDtcblx0XHR0aGlzLnkgPSAwO1xuXHRcdHRoaXMuZHggPSAwO1xuXHRcdHRoaXMuZHkgPSAwO1xuXHRcdHRoaXMuZG93biA9IGZhbHNlO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmNvbG9yID0gWzMwLCAwLCAzMDBdO1xuXHR9XG5cblx0bGV0IHBvaW50ZXJzID0gW107XG5cdGxldCBzcGxhdFN0YWNrID0gW107XG5cdGxldCBibG9vbUZyYW1lYnVmZmVycyA9IFtdO1xuXHRwb2ludGVycy5wdXNoKG5ldyBwb2ludGVyUHJvdG90eXBlKCkpO1xuXG5cdGNvbnN0IHtcblx0XHRnbCxcblx0XHRleHRcblx0fSA9IGdldFdlYkdMQ29udGV4dChjYW52YXMpO1xuXG5cdGlmIChpc01vYmlsZSgpKVxuXHRcdGNvbmZpZy5TSEFESU5HID0gZmFsc2U7XG5cdGlmICghZXh0LnN1cHBvcnRMaW5lYXJGaWx0ZXJpbmcpIHtcblx0XHRjb25maWcuU0hBRElORyA9IGZhbHNlO1xuXHRcdGNvbmZpZy5CTE9PTSA9IGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KGNhbnZhcykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdGFscGhhOiB0cnVlLFxuXHRcdFx0ZGVwdGg6IGZhbHNlLFxuXHRcdFx0c3RlbmNpbDogZmFsc2UsXG5cdFx0XHRhbnRpYWxpYXM6IGZhbHNlLFxuXHRcdFx0cHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZVxuXHRcdH07XG5cblx0XHRsZXQgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgcGFyYW1zKTtcblx0XHRjb25zdCBpc1dlYkdMMiA9ICEhZ2w7XG5cdFx0aWYgKCFpc1dlYkdMMilcblx0XHRcdGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgcGFyYW1zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgcGFyYW1zKTtcblxuXHRcdGxldCBoYWxmRmxvYXQ7XG5cdFx0bGV0IHN1cHBvcnRMaW5lYXJGaWx0ZXJpbmc7XG5cdFx0aWYgKGlzV2ViR0wyKSB7XG5cdFx0XHRnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKTtcblx0XHRcdHN1cHBvcnRMaW5lYXJGaWx0ZXJpbmcgPSBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoYWxmRmxvYXQgPSBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTtcblx0XHRcdHN1cHBvcnRMaW5lYXJGaWx0ZXJpbmcgPSBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyk7XG5cdFx0fVxuXG5cdFx0Z2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAxLjApO1xuXG5cdFx0Y29uc3QgaGFsZkZsb2F0VGV4VHlwZSA9IGlzV2ViR0wyID8gZ2wuSEFMRl9GTE9BVCA6IGhhbGZGbG9hdC5IQUxGX0ZMT0FUX09FUztcblx0XHRsZXQgZm9ybWF0UkdCQTtcblx0XHRsZXQgZm9ybWF0Ukc7XG5cdFx0bGV0IGZvcm1hdFI7XG5cblx0XHRpZiAoaXNXZWJHTDIpIHtcblx0XHRcdGZvcm1hdFJHQkEgPSBnZXRTdXBwb3J0ZWRGb3JtYXQoZ2wsIGdsLlJHQkExNkYsIGdsLlJHQkEsIGhhbGZGbG9hdFRleFR5cGUpO1xuXHRcdFx0Zm9ybWF0UkcgPSBnZXRTdXBwb3J0ZWRGb3JtYXQoZ2wsIGdsLlJHMTZGLCBnbC5SRywgaGFsZkZsb2F0VGV4VHlwZSk7XG5cdFx0XHRmb3JtYXRSID0gZ2V0U3VwcG9ydGVkRm9ybWF0KGdsLCBnbC5SMTZGLCBnbC5SRUQsIGhhbGZGbG9hdFRleFR5cGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3JtYXRSR0JBID0gZ2V0U3VwcG9ydGVkRm9ybWF0KGdsLCBnbC5SR0JBLCBnbC5SR0JBLCBoYWxmRmxvYXRUZXhUeXBlKTtcblx0XHRcdGZvcm1hdFJHID0gZ2V0U3VwcG9ydGVkRm9ybWF0KGdsLCBnbC5SR0JBLCBnbC5SR0JBLCBoYWxmRmxvYXRUZXhUeXBlKTtcblx0XHRcdGZvcm1hdFIgPSBnZXRTdXBwb3J0ZWRGb3JtYXQoZ2wsIGdsLlJHQkEsIGdsLlJHQkEsIGhhbGZGbG9hdFRleFR5cGUpO1xuXHRcdH1cblxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGdsLFxuXHRcdFx0ZXh0OiB7XG5cdFx0XHRcdGZvcm1hdFJHQkEsXG5cdFx0XHRcdGZvcm1hdFJHLFxuXHRcdFx0XHRmb3JtYXRSLFxuXHRcdFx0XHRoYWxmRmxvYXRUZXhUeXBlLFxuXHRcdFx0XHRzdXBwb3J0TGluZWFyRmlsdGVyaW5nXG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFN1cHBvcnRlZEZvcm1hdChnbCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSkge1xuXHRcdGlmICghc3VwcG9ydFJlbmRlclRleHR1cmVGb3JtYXQoZ2wsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUpKSB7XG5cdFx0XHRzd2l0Y2ggKGludGVybmFsRm9ybWF0KSB7XG5cdFx0XHRcdGNhc2UgZ2wuUjE2Rjpcblx0XHRcdFx0XHRyZXR1cm4gZ2V0U3VwcG9ydGVkRm9ybWF0KGdsLCBnbC5SRzE2RiwgZ2wuUkcsIHR5cGUpO1xuXHRcdFx0XHRjYXNlIGdsLlJHMTZGOlxuXHRcdFx0XHRcdHJldHVybiBnZXRTdXBwb3J0ZWRGb3JtYXQoZ2wsIGdsLlJHQkExNkYsIGdsLlJHQkEsIHR5cGUpO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRpbnRlcm5hbEZvcm1hdCxcblx0XHRcdGZvcm1hdFxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHN1cHBvcnRSZW5kZXJUZXh0dXJlRm9ybWF0KGdsLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlKSB7XG5cdFx0bGV0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGludGVybmFsRm9ybWF0LCA0LCA0LCAwLCBmb3JtYXQsIHR5cGUsIG51bGwpO1xuXG5cdFx0bGV0IGZibyA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8pO1xuXHRcdGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG5cblx0XHRjb25zdCBzdGF0dXMgPSBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKTtcblx0XHRpZiAoc3RhdHVzICE9IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNNb2JpbGUoKSB7XG5cdFx0cmV0dXJuIC9Nb2JpfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHR9XG5cblx0Y2xhc3MgR0xQcm9ncmFtIHtcblx0XHRjb25zdHJ1Y3Rvcih2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG5cdFx0XHR0aGlzLnVuaWZvcm1zID0ge307XG5cdFx0XHR0aGlzLnByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cblx0XHRcdGdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIHZlcnRleFNoYWRlcik7XG5cdFx0XHRnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG5cdFx0XHRnbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXG5cdFx0XHRpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG5cdFx0XHRcdHRocm93IGdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSk7XG5cblx0XHRcdGNvbnN0IHVuaWZvcm1Db3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB1bmlmb3JtQ291bnQ7IGkrKykge1xuXHRcdFx0XHRjb25zdCB1bmlmb3JtTmFtZSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5wcm9ncmFtLCBpKS5uYW1lO1xuXHRcdFx0XHR0aGlzLnVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIHVuaWZvcm1OYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRiaW5kKCkge1xuXHRcdFx0Z2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIodHlwZSwgc291cmNlKSB7XG5cdFx0Y29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXHRcdGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XG5cdFx0Z2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG5cdFx0aWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG5cdFx0XHR0aHJvdyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG5cblx0XHRyZXR1cm4gc2hhZGVyO1xuXHR9O1xuXG5cdGNvbnN0IGJhc2VWZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgIFxuICAgICAgICBhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2TDtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZSO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdlQ7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2QjtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIHZVdiA9IGFQb3NpdGlvbiAqIDAuNSArIDAuNTtcbiAgICAgICAgICAgIHZMID0gdlV2IC0gdmVjMih0ZXhlbFNpemUueCwgMC4wKTtcbiAgICAgICAgICAgIHZSID0gdlV2ICsgdmVjMih0ZXhlbFNpemUueCwgMC4wKTtcbiAgICAgICAgICAgIHZUID0gdlV2ICsgdmVjMigwLjAsIHRleGVsU2l6ZS55KTtcbiAgICAgICAgICAgIHZCID0gdlV2IC0gdmVjMigwLjAsIHRleGVsU2l6ZS55KTtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24sIDAuMCwgMS4wKTtcbiAgICAgICAgfVxuICAgIGApO1xuXG5cdGNvbnN0IGNsZWFyU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZVdjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdmFsdWU7XG4gICAgXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2YWx1ZSAqIHRleHR1cmUyRCh1VGV4dHVyZSwgdlV2KTtcbiAgICAgICAgfVxuICAgIGApO1xuXG5cdGNvbnN0IGNvbG9yU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgXG4gICAgICAgIHVuaWZvcm0gdmVjNCBjb2xvcjtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgYmFja2dyb3VuZFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgYXNwZWN0UmF0aW87XG4gICAgXG4gICAgICAgICNkZWZpbmUgU0NBTEUgMjUuMFxuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgdmVjMiB1diA9IGZsb29yKHZVdiAqIFNDQUxFICogdmVjMihhc3BlY3RSYXRpbywgMS4wKSk7XG4gICAgICAgICAgICBmbG9hdCB2ID0gbW9kKHV2LnggKyB1di55LCAyLjApO1xuICAgICAgICAgICAgdiA9IHYgKiAwLjEgKyAwLjg7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZlYzModiksIDEuMCk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBkaXNwbGF5U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xuICAgIFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIHZlYzMgQyA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlV2KS5yZ2I7XG4gICAgICAgICAgICBmbG9hdCBhID0gbWF4KEMuciwgbWF4KEMuZywgQy5iKSk7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KEMsIGEpO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgZGlzcGxheUJsb29tU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xuICAgIFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdUJsb29tO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1RGl0aGVyaW5nO1xuICAgICAgICB1bmlmb3JtIHZlYzIgZGl0aGVyU2NhbGU7XG4gICAgXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XG4gICAgICAgICAgICB2ZWMzIEMgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZVdikucmdiO1xuICAgICAgICAgICAgdmVjMyBibG9vbSA9IHRleHR1cmUyRCh1Qmxvb20sIHZVdikucmdiO1xuICAgICAgICAgICAgdmVjMyBub2lzZSA9IHRleHR1cmUyRCh1RGl0aGVyaW5nLCB2VXYgKiBkaXRoZXJTY2FsZSkucmdiO1xuICAgICAgICAgICAgbm9pc2UgPSBub2lzZSAqIDIuMCAtIDEuMDtcbiAgICAgICAgICAgIGJsb29tICs9IG5vaXNlIC8gODAwLjA7XG4gICAgICAgICAgICBibG9vbSA9IHBvdyhibG9vbS5yZ2IsIHZlYzMoMS4wIC8gMi4yKSk7XG4gICAgICAgICAgICBDICs9IGJsb29tO1xuICAgICAgICAgICAgZmxvYXQgYSA9IG1heChDLnIsIG1heChDLmcsIEMuYikpO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChDLCBhKTtcbiAgICAgICAgfVxuICAgIGApO1xuXG5cdGNvbnN0IGRpc3BsYXlTaGFkaW5nU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xuICAgIFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkw7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2UjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZUO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkI7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICAgICAgICB1bmlmb3JtIHZlYzIgdGV4ZWxTaXplO1xuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgdmVjMyBMID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2TCkucmdiO1xuICAgICAgICAgICAgdmVjMyBSID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2UikucmdiO1xuICAgICAgICAgICAgdmVjMyBUID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VCkucmdiO1xuICAgICAgICAgICAgdmVjMyBCID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2QikucmdiO1xuICAgICAgICAgICAgdmVjMyBDID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VXYpLnJnYjtcbiAgICBcbiAgICAgICAgICAgIGZsb2F0IGR4ID0gbGVuZ3RoKFIpIC0gbGVuZ3RoKEwpO1xuICAgICAgICAgICAgZmxvYXQgZHkgPSBsZW5ndGgoVCkgLSBsZW5ndGgoQik7XG4gICAgXG4gICAgICAgICAgICB2ZWMzIG4gPSBub3JtYWxpemUodmVjMyhkeCwgZHksIGxlbmd0aCh0ZXhlbFNpemUpKSk7XG4gICAgICAgICAgICB2ZWMzIGwgPSB2ZWMzKDAuMCwgMC4wLCAxLjApO1xuICAgIFxuICAgICAgICAgICAgZmxvYXQgZGlmZnVzZSA9IGNsYW1wKGRvdChuLCBsKSArIDAuNywgMC43LCAxLjApO1xuICAgICAgICAgICAgQy5yZ2IgKj0gZGlmZnVzZTtcbiAgICBcbiAgICAgICAgICAgIGZsb2F0IGEgPSBtYXgoQy5yLCBtYXgoQy5nLCBDLmIpKTtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoQywgYSk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBkaXNwbGF5Qmxvb21TaGFkaW5nU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xuICAgIFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkw7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2UjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZUO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkI7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1Qmxvb207XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVEaXRoZXJpbmc7XG4gICAgICAgIHVuaWZvcm0gdmVjMiBkaXRoZXJTY2FsZTtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIHZlYzMgTCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdkwpLnJnYjtcbiAgICAgICAgICAgIHZlYzMgUiA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlIpLnJnYjtcbiAgICAgICAgICAgIHZlYzMgVCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlQpLnJnYjtcbiAgICAgICAgICAgIHZlYzMgQiA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdkIpLnJnYjtcbiAgICAgICAgICAgIHZlYzMgQyA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlV2KS5yZ2I7XG4gICAgXG4gICAgICAgICAgICBmbG9hdCBkeCA9IGxlbmd0aChSKSAtIGxlbmd0aChMKTtcbiAgICAgICAgICAgIGZsb2F0IGR5ID0gbGVuZ3RoKFQpIC0gbGVuZ3RoKEIpO1xuICAgIFxuICAgICAgICAgICAgdmVjMyBuID0gbm9ybWFsaXplKHZlYzMoZHgsIGR5LCBsZW5ndGgodGV4ZWxTaXplKSkpO1xuICAgICAgICAgICAgdmVjMyBsID0gdmVjMygwLjAsIDAuMCwgMS4wKTtcbiAgICBcbiAgICAgICAgICAgIGZsb2F0IGRpZmZ1c2UgPSBjbGFtcChkb3QobiwgbCkgKyAwLjcsIDAuNywgMS4wKTtcbiAgICAgICAgICAgIEMgKj0gZGlmZnVzZTtcbiAgICBcbiAgICAgICAgICAgIHZlYzMgYmxvb20gPSB0ZXh0dXJlMkQodUJsb29tLCB2VXYpLnJnYjtcbiAgICAgICAgICAgIHZlYzMgbm9pc2UgPSB0ZXh0dXJlMkQodURpdGhlcmluZywgdlV2ICogZGl0aGVyU2NhbGUpLnJnYjtcbiAgICAgICAgICAgIG5vaXNlID0gbm9pc2UgKiAyLjAgLSAxLjA7XG4gICAgICAgICAgICBibG9vbSArPSBub2lzZSAvIDgwMC4wO1xuICAgICAgICAgICAgYmxvb20gPSBwb3coYmxvb20ucmdiLCB2ZWMzKDEuMCAvIDIuMikpO1xuICAgICAgICAgICAgQyArPSBibG9vbTtcbiAgICBcbiAgICAgICAgICAgIGZsb2F0IGEgPSBtYXgoQy5yLCBtYXgoQy5nLCBDLmIpKTtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoQywgYSk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBibG9vbVByZWZpbHRlclNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICAgICAgICB1bmlmb3JtIHZlYzMgY3VydmU7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdGhyZXNob2xkO1xuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgdmVjMyBjID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VXYpLnJnYjtcbiAgICAgICAgICAgIGZsb2F0IGJyID0gbWF4KGMuciwgbWF4KGMuZywgYy5iKSk7XG4gICAgICAgICAgICBmbG9hdCBycSA9IGNsYW1wKGJyIC0gY3VydmUueCwgMC4wLCBjdXJ2ZS55KTtcbiAgICAgICAgICAgIHJxID0gY3VydmUueiAqIHJxICogcnE7XG4gICAgICAgICAgICBjICo9IG1heChycSwgYnIgLSB0aHJlc2hvbGQpIC8gbWF4KGJyLCAwLjAwMDEpO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjLCAwLjApO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgYmxvb21CbHVyU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZMO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdlI7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VDtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZCO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIHZlYzQgc3VtID0gdmVjNCgwLjApO1xuICAgICAgICAgICAgc3VtICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdkwpO1xuICAgICAgICAgICAgc3VtICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlIpO1xuICAgICAgICAgICAgc3VtICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlQpO1xuICAgICAgICAgICAgc3VtICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdkIpO1xuICAgICAgICAgICAgc3VtICo9IDAuMjU7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSBzdW07XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBibG9vbUZpbmFsU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZMO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdlI7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VDtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZCO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBpbnRlbnNpdHk7XG4gICAgXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XG4gICAgICAgICAgICB2ZWM0IHN1bSA9IHZlYzQoMC4wKTtcbiAgICAgICAgICAgIHN1bSArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZMKTtcbiAgICAgICAgICAgIHN1bSArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZSKTtcbiAgICAgICAgICAgIHN1bSArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUKTtcbiAgICAgICAgICAgIHN1bSArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZCKTtcbiAgICAgICAgICAgIHN1bSAqPSAwLjI1O1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gc3VtICogaW50ZW5zaXR5O1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3Qgc3BsYXRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUiwgYFxuICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBoaWdocCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUYXJnZXQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgYXNwZWN0UmF0aW87XG4gICAgICAgIHVuaWZvcm0gdmVjMyBjb2xvcjtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHBvaW50O1xuICAgICAgICB1bmlmb3JtIGZsb2F0IHJhZGl1cztcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIHZlYzIgcCA9IHZVdiAtIHBvaW50Lnh5O1xuICAgICAgICAgICAgcC54ICo9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgdmVjMyBzcGxhdCA9IGV4cCgtZG90KHAsIHApIC8gcmFkaXVzKSAqIGNvbG9yO1xuICAgICAgICAgICAgdmVjMyBiYXNlID0gdGV4dHVyZTJEKHVUYXJnZXQsIHZVdikueHl6O1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChiYXNlICsgc3BsYXQsIDEuMCk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBhZHZlY3Rpb25NYW51YWxGaWx0ZXJpbmdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUiwgYFxuICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBoaWdocCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVWZWxvY2l0eTtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNvdXJjZTtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIGR5ZVRleGVsU2l6ZTtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkdDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkaXNzaXBhdGlvbjtcbiAgICBcbiAgICAgICAgdmVjNCBiaWxlcnAgKHNhbXBsZXIyRCBzYW0sIHZlYzIgdXYsIHZlYzIgdHNpemUpIHtcbiAgICAgICAgICAgIHZlYzIgc3QgPSB1diAvIHRzaXplIC0gMC41O1xuICAgIFxuICAgICAgICAgICAgdmVjMiBpdXYgPSBmbG9vcihzdCk7XG4gICAgICAgICAgICB2ZWMyIGZ1diA9IGZyYWN0KHN0KTtcbiAgICBcbiAgICAgICAgICAgIHZlYzQgYSA9IHRleHR1cmUyRChzYW0sIChpdXYgKyB2ZWMyKDAuNSwgMC41KSkgKiB0c2l6ZSk7XG4gICAgICAgICAgICB2ZWM0IGIgPSB0ZXh0dXJlMkQoc2FtLCAoaXV2ICsgdmVjMigxLjUsIDAuNSkpICogdHNpemUpO1xuICAgICAgICAgICAgdmVjNCBjID0gdGV4dHVyZTJEKHNhbSwgKGl1diArIHZlYzIoMC41LCAxLjUpKSAqIHRzaXplKTtcbiAgICAgICAgICAgIHZlYzQgZCA9IHRleHR1cmUyRChzYW0sIChpdXYgKyB2ZWMyKDEuNSwgMS41KSkgKiB0c2l6ZSk7XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gbWl4KG1peChhLCBiLCBmdXYueCksIG1peChjLCBkLCBmdXYueCksIGZ1di55KTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgdmVjMiBjb29yZCA9IHZVdiAtIGR0ICogYmlsZXJwKHVWZWxvY2l0eSwgdlV2LCB0ZXhlbFNpemUpLnh5ICogdGV4ZWxTaXplO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gZGlzc2lwYXRpb24gKiBiaWxlcnAodVNvdXJjZSwgY29vcmQsIGR5ZVRleGVsU2l6ZSk7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IuYSA9IDEuMDtcbiAgICAgICAgfVxuICAgIGApO1xuXG5cdGNvbnN0IGFkdmVjdGlvblNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVZlbG9jaXR5O1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U291cmNlO1xuICAgICAgICB1bmlmb3JtIHZlYzIgdGV4ZWxTaXplO1xuICAgICAgICB1bmlmb3JtIGZsb2F0IGR0O1xuICAgICAgICB1bmlmb3JtIGZsb2F0IGRpc3NpcGF0aW9uO1xuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgdmVjMiBjb29yZCA9IHZVdiAtIGR0ICogdGV4dHVyZTJEKHVWZWxvY2l0eSwgdlV2KS54eSAqIHRleGVsU2l6ZTtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IGRpc3NpcGF0aW9uICogdGV4dHVyZTJEKHVTb3VyY2UsIGNvb3JkKTtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvci5hID0gMS4wO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgZGl2ZXJnZW5jZVNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VXY7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2TDtcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZSO1xuICAgICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlQ7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2QjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVZlbG9jaXR5O1xuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgZmxvYXQgTCA9IHRleHR1cmUyRCh1VmVsb2NpdHksIHZMKS54O1xuICAgICAgICAgICAgZmxvYXQgUiA9IHRleHR1cmUyRCh1VmVsb2NpdHksIHZSKS54O1xuICAgICAgICAgICAgZmxvYXQgVCA9IHRleHR1cmUyRCh1VmVsb2NpdHksIHZUKS55O1xuICAgICAgICAgICAgZmxvYXQgQiA9IHRleHR1cmUyRCh1VmVsb2NpdHksIHZCKS55O1xuICAgIFxuICAgICAgICAgICAgdmVjMiBDID0gdGV4dHVyZTJEKHVWZWxvY2l0eSwgdlV2KS54eTtcbiAgICAgICAgICAgIGlmICh2TC54IDwgMC4wKSB7IEwgPSAtQy54OyB9XG4gICAgICAgICAgICBpZiAodlIueCA+IDEuMCkgeyBSID0gLUMueDsgfVxuICAgICAgICAgICAgaWYgKHZULnkgPiAxLjApIHsgVCA9IC1DLnk7IH1cbiAgICAgICAgICAgIGlmICh2Qi55IDwgMC4wKSB7IEIgPSAtQy55OyB9XG4gICAgXG4gICAgICAgICAgICBmbG9hdCBkaXYgPSAwLjUgKiAoUiAtIEwgKyBUIC0gQik7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGRpdiwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBjdXJsU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyRDtcbiAgICBcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZVdjtcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZMO1xuICAgICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlI7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VDtcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZCO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VmVsb2NpdHk7XG4gICAgXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XG4gICAgICAgICAgICBmbG9hdCBMID0gdGV4dHVyZTJEKHVWZWxvY2l0eSwgdkwpLnk7XG4gICAgICAgICAgICBmbG9hdCBSID0gdGV4dHVyZTJEKHVWZWxvY2l0eSwgdlIpLnk7XG4gICAgICAgICAgICBmbG9hdCBUID0gdGV4dHVyZTJEKHVWZWxvY2l0eSwgdlQpLng7XG4gICAgICAgICAgICBmbG9hdCBCID0gdGV4dHVyZTJEKHVWZWxvY2l0eSwgdkIpLng7XG4gICAgICAgICAgICBmbG9hdCB2b3J0aWNpdHkgPSBSIC0gTCAtIFQgKyBCO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjUgKiB2b3J0aWNpdHksIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3Qgdm9ydGljaXR5U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIsIGBcbiAgICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xuICAgIFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkw7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2UjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZUO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdkI7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVWZWxvY2l0eTtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdUN1cmw7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgY3VybDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkdDtcbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIGZsb2F0IEwgPSB0ZXh0dXJlMkQodUN1cmwsIHZMKS54O1xuICAgICAgICAgICAgZmxvYXQgUiA9IHRleHR1cmUyRCh1Q3VybCwgdlIpLng7XG4gICAgICAgICAgICBmbG9hdCBUID0gdGV4dHVyZTJEKHVDdXJsLCB2VCkueDtcbiAgICAgICAgICAgIGZsb2F0IEIgPSB0ZXh0dXJlMkQodUN1cmwsIHZCKS54O1xuICAgICAgICAgICAgZmxvYXQgQyA9IHRleHR1cmUyRCh1Q3VybCwgdlV2KS54O1xuICAgIFxuICAgICAgICAgICAgdmVjMiBmb3JjZSA9IDAuNSAqIHZlYzIoYWJzKFQpIC0gYWJzKEIpLCBhYnMoUikgLSBhYnMoTCkpO1xuICAgICAgICAgICAgZm9yY2UgLz0gbGVuZ3RoKGZvcmNlKSArIDAuMDAwMTtcbiAgICAgICAgICAgIGZvcmNlICo9IGN1cmwgKiBDO1xuICAgICAgICAgICAgZm9yY2UueSAqPSAtMS4wO1xuICAgIFxuICAgICAgICAgICAgdmVjMiB2ZWwgPSB0ZXh0dXJlMkQodVZlbG9jaXR5LCB2VXYpLnh5O1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWwgKyBmb3JjZSAqIGR0LCAwLjAsIDEuMCk7XG4gICAgICAgIH1cbiAgICBgKTtcblxuXHRjb25zdCBwcmVzc3VyZVNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VXY7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2TDtcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZSO1xuICAgICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlQ7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2QjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVByZXNzdXJlO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1RGl2ZXJnZW5jZTtcbiAgICBcbiAgICAgICAgdmVjMiBib3VuZGFyeSAodmVjMiB1dikge1xuICAgICAgICAgICAgcmV0dXJuIHV2O1xuICAgICAgICAgICAgLy8gdW5jb21tZW50IGlmIHlvdSB1c2Ugd3JhcCBvciByZXBlYXQgdGV4dHVyZSBtb2RlXG4gICAgICAgICAgICAvLyB1diA9IG1pbihtYXgodXYsIDAuMCksIDEuMCk7XG4gICAgICAgICAgICAvLyByZXR1cm4gdXY7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdm9pZCBtYWluICgpIHtcbiAgICAgICAgICAgIGZsb2F0IEwgPSB0ZXh0dXJlMkQodVByZXNzdXJlLCBib3VuZGFyeSh2TCkpLng7XG4gICAgICAgICAgICBmbG9hdCBSID0gdGV4dHVyZTJEKHVQcmVzc3VyZSwgYm91bmRhcnkodlIpKS54O1xuICAgICAgICAgICAgZmxvYXQgVCA9IHRleHR1cmUyRCh1UHJlc3N1cmUsIGJvdW5kYXJ5KHZUKSkueDtcbiAgICAgICAgICAgIGZsb2F0IEIgPSB0ZXh0dXJlMkQodVByZXNzdXJlLCBib3VuZGFyeSh2QikpLng7XG4gICAgICAgICAgICBmbG9hdCBDID0gdGV4dHVyZTJEKHVQcmVzc3VyZSwgdlV2KS54O1xuICAgICAgICAgICAgZmxvYXQgZGl2ZXJnZW5jZSA9IHRleHR1cmUyRCh1RGl2ZXJnZW5jZSwgdlV2KS54O1xuICAgICAgICAgICAgZmxvYXQgcHJlc3N1cmUgPSAoTCArIFIgKyBCICsgVCAtIGRpdmVyZ2VuY2UpICogMC4yNTtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocHJlc3N1cmUsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgZ3JhZGllbnRTdWJ0cmFjdFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkQ7XG4gICAgXG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VXY7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2TDtcbiAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZSO1xuICAgICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlQ7XG4gICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2QjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVByZXNzdXJlO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VmVsb2NpdHk7XG4gICAgXG4gICAgICAgIHZlYzIgYm91bmRhcnkgKHZlYzIgdXYpIHtcbiAgICAgICAgICAgIHJldHVybiB1djtcbiAgICAgICAgICAgIC8vIHV2ID0gbWluKG1heCh1diwgMC4wKSwgMS4wKTtcbiAgICAgICAgICAgIC8vIHJldHVybiB1djtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgZmxvYXQgTCA9IHRleHR1cmUyRCh1UHJlc3N1cmUsIGJvdW5kYXJ5KHZMKSkueDtcbiAgICAgICAgICAgIGZsb2F0IFIgPSB0ZXh0dXJlMkQodVByZXNzdXJlLCBib3VuZGFyeSh2UikpLng7XG4gICAgICAgICAgICBmbG9hdCBUID0gdGV4dHVyZTJEKHVQcmVzc3VyZSwgYm91bmRhcnkodlQpKS54O1xuICAgICAgICAgICAgZmxvYXQgQiA9IHRleHR1cmUyRCh1UHJlc3N1cmUsIGJvdW5kYXJ5KHZCKSkueDtcbiAgICAgICAgICAgIHZlYzIgdmVsb2NpdHkgPSB0ZXh0dXJlMkQodVZlbG9jaXR5LCB2VXYpLnh5O1xuICAgICAgICAgICAgdmVsb2NpdHkueHkgLT0gdmVjMihSIC0gTCwgVCAtIEIpO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWxvY2l0eSwgMC4wLCAxLjApO1xuICAgICAgICB9XG4gICAgYCk7XG5cblx0Y29uc3QgYmxpdCA9ICgoKSA9PiB7XG5cdFx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsLmNyZWF0ZUJ1ZmZlcigpKTtcblx0XHRnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAtMSwgMSwgMSwgMSwgMSwgLTFdKSwgZ2wuU1RBVElDX0RSQVcpO1xuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdsLmNyZWF0ZUJ1ZmZlcigpKTtcblx0XHRnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKSwgZ2wuU1RBVElDX0RSQVcpO1xuXHRcdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblx0XHRnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTtcblxuXHRcdHJldHVybiAoZGVzdGluYXRpb24pID0+IHtcblx0XHRcdGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZGVzdGluYXRpb24pO1xuXHRcdFx0Z2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuXHRcdH1cblx0fSkoKTtcblxuXHRsZXQgc2ltV2lkdGg7XG5cdGxldCBzaW1IZWlnaHQ7XG5cdGxldCBkeWVXaWR0aDtcblx0bGV0IGR5ZUhlaWdodDtcblx0bGV0IGRlbnNpdHk7XG5cdGxldCB2ZWxvY2l0eTtcblx0bGV0IGRpdmVyZ2VuY2U7XG5cdGxldCBjdXJsO1xuXHRsZXQgcHJlc3N1cmU7XG5cdGxldCBibG9vbTtcblxuXHRsZXQgZGl0aGVyaW5nVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmVBc3luYygpO1xuXG5cdGNvbnN0IGNsZWFyUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgY2xlYXJTaGFkZXIpO1xuXHRjb25zdCBjb2xvclByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKGJhc2VWZXJ0ZXhTaGFkZXIsIGNvbG9yU2hhZGVyKTtcblx0Y29uc3QgYmFja2dyb3VuZFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKGJhc2VWZXJ0ZXhTaGFkZXIsIGJhY2tncm91bmRTaGFkZXIpO1xuXHRjb25zdCBkaXNwbGF5UHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgZGlzcGxheVNoYWRlcik7XG5cdGNvbnN0IGRpc3BsYXlCbG9vbVByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKGJhc2VWZXJ0ZXhTaGFkZXIsIGRpc3BsYXlCbG9vbVNoYWRlcik7XG5cdGNvbnN0IGRpc3BsYXlTaGFkaW5nUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgZGlzcGxheVNoYWRpbmdTaGFkZXIpO1xuXHRjb25zdCBkaXNwbGF5Qmxvb21TaGFkaW5nUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgZGlzcGxheUJsb29tU2hhZGluZ1NoYWRlcik7XG5cdGNvbnN0IGJsb29tUHJlZmlsdGVyUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgYmxvb21QcmVmaWx0ZXJTaGFkZXIpO1xuXHRjb25zdCBibG9vbUJsdXJQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShiYXNlVmVydGV4U2hhZGVyLCBibG9vbUJsdXJTaGFkZXIpO1xuXHRjb25zdCBibG9vbUZpbmFsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgYmxvb21GaW5hbFNoYWRlcik7XG5cdGNvbnN0IHNwbGF0UHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgc3BsYXRTaGFkZXIpO1xuXHRjb25zdCBhZHZlY3Rpb25Qcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShiYXNlVmVydGV4U2hhZGVyLCBleHQuc3VwcG9ydExpbmVhckZpbHRlcmluZyA/IGFkdmVjdGlvblNoYWRlciA6IGFkdmVjdGlvbk1hbnVhbEZpbHRlcmluZ1NoYWRlcik7XG5cdGNvbnN0IGRpdmVyZ2VuY2VQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShiYXNlVmVydGV4U2hhZGVyLCBkaXZlcmdlbmNlU2hhZGVyKTtcblx0Y29uc3QgY3VybFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKGJhc2VWZXJ0ZXhTaGFkZXIsIGN1cmxTaGFkZXIpO1xuXHRjb25zdCB2b3J0aWNpdHlQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShiYXNlVmVydGV4U2hhZGVyLCB2b3J0aWNpdHlTaGFkZXIpO1xuXHRjb25zdCBwcmVzc3VyZVByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKGJhc2VWZXJ0ZXhTaGFkZXIsIHByZXNzdXJlU2hhZGVyKTtcblx0Y29uc3QgZ3JhZGllblN1YnRyYWN0UHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oYmFzZVZlcnRleFNoYWRlciwgZ3JhZGllbnRTdWJ0cmFjdFNoYWRlcik7XG5cblx0ZnVuY3Rpb24gaW5pdEZyYW1lYnVmZmVycygpIHtcblx0XHRsZXQgc2ltUmVzID0gZ2V0UmVzb2x1dGlvbihjb25maWcuU0lNX1JFU09MVVRJT04pO1xuXHRcdGxldCBkeWVSZXMgPSBnZXRSZXNvbHV0aW9uKGNvbmZpZy5EWUVfUkVTT0xVVElPTik7XG5cblx0XHRzaW1XaWR0aCA9IHNpbVJlcy53aWR0aDtcblx0XHRzaW1IZWlnaHQgPSBzaW1SZXMuaGVpZ2h0O1xuXHRcdGR5ZVdpZHRoID0gZHllUmVzLndpZHRoO1xuXHRcdGR5ZUhlaWdodCA9IGR5ZVJlcy5oZWlnaHQ7XG5cblx0XHRjb25zdCB0ZXhUeXBlID0gZXh0LmhhbGZGbG9hdFRleFR5cGU7XG5cdFx0Y29uc3QgcmdiYSA9IGV4dC5mb3JtYXRSR0JBO1xuXHRcdGNvbnN0IHJnID0gZXh0LmZvcm1hdFJHO1xuXHRcdGNvbnN0IHIgPSBleHQuZm9ybWF0Ujtcblx0XHRjb25zdCBmaWx0ZXJpbmcgPSBleHQuc3VwcG9ydExpbmVhckZpbHRlcmluZyA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG5cblx0XHRpZiAoZGVuc2l0eSA9PSBudWxsKVxuXHRcdFx0ZGVuc2l0eSA9IGNyZWF0ZURvdWJsZUZCTyhkeWVXaWR0aCwgZHllSGVpZ2h0LCByZ2JhLmludGVybmFsRm9ybWF0LCByZ2JhLmZvcm1hdCwgdGV4VHlwZSwgZmlsdGVyaW5nKTtcblx0XHRlbHNlXG5cdFx0XHRkZW5zaXR5ID0gcmVzaXplRG91YmxlRkJPKGRlbnNpdHksIGR5ZVdpZHRoLCBkeWVIZWlnaHQsIHJnYmEuaW50ZXJuYWxGb3JtYXQsIHJnYmEuZm9ybWF0LCB0ZXhUeXBlLCBmaWx0ZXJpbmcpO1xuXG5cdFx0aWYgKHZlbG9jaXR5ID09IG51bGwpXG5cdFx0XHR2ZWxvY2l0eSA9IGNyZWF0ZURvdWJsZUZCTyhzaW1XaWR0aCwgc2ltSGVpZ2h0LCByZy5pbnRlcm5hbEZvcm1hdCwgcmcuZm9ybWF0LCB0ZXhUeXBlLCBmaWx0ZXJpbmcpO1xuXHRcdGVsc2Vcblx0XHRcdHZlbG9jaXR5ID0gcmVzaXplRG91YmxlRkJPKHZlbG9jaXR5LCBzaW1XaWR0aCwgc2ltSGVpZ2h0LCByZy5pbnRlcm5hbEZvcm1hdCwgcmcuZm9ybWF0LCB0ZXhUeXBlLCBmaWx0ZXJpbmcpO1xuXG5cdFx0ZGl2ZXJnZW5jZSA9IGNyZWF0ZUZCTyhzaW1XaWR0aCwgc2ltSGVpZ2h0LCByLmludGVybmFsRm9ybWF0LCByLmZvcm1hdCwgdGV4VHlwZSwgZ2wuTkVBUkVTVCk7XG5cdFx0Y3VybCA9IGNyZWF0ZUZCTyhzaW1XaWR0aCwgc2ltSGVpZ2h0LCByLmludGVybmFsRm9ybWF0LCByLmZvcm1hdCwgdGV4VHlwZSwgZ2wuTkVBUkVTVCk7XG5cdFx0cHJlc3N1cmUgPSBjcmVhdGVEb3VibGVGQk8oc2ltV2lkdGgsIHNpbUhlaWdodCwgci5pbnRlcm5hbEZvcm1hdCwgci5mb3JtYXQsIHRleFR5cGUsIGdsLk5FQVJFU1QpO1xuXG5cdFx0aW5pdEJsb29tRnJhbWVidWZmZXJzKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0Qmxvb21GcmFtZWJ1ZmZlcnMoKSB7XG5cdFx0bGV0IHJlcyA9IGdldFJlc29sdXRpb24oY29uZmlnLkJMT09NX1JFU09MVVRJT04pO1xuXG5cdFx0Y29uc3QgdGV4VHlwZSA9IGV4dC5oYWxmRmxvYXRUZXhUeXBlO1xuXHRcdGNvbnN0IHJnYmEgPSBleHQuZm9ybWF0UkdCQTtcblx0XHRjb25zdCBmaWx0ZXJpbmcgPSBleHQuc3VwcG9ydExpbmVhckZpbHRlcmluZyA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG5cblx0XHRibG9vbSA9IGNyZWF0ZUZCTyhyZXMud2lkdGgsIHJlcy5oZWlnaHQsIHJnYmEuaW50ZXJuYWxGb3JtYXQsIHJnYmEuZm9ybWF0LCB0ZXhUeXBlLCBmaWx0ZXJpbmcpO1xuXG5cdFx0Ymxvb21GcmFtZWJ1ZmZlcnMubGVuZ3RoID0gMDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZy5CTE9PTV9JVEVSQVRJT05TOyBpKyspIHtcblx0XHRcdGxldCB3aWR0aCA9IHJlcy53aWR0aCA+PiAoaSArIDEpO1xuXHRcdFx0bGV0IGhlaWdodCA9IHJlcy5oZWlnaHQgPj4gKGkgKyAxKTtcblxuXHRcdFx0aWYgKHdpZHRoIDwgMiB8fCBoZWlnaHQgPCAyKSBicmVhaztcblxuXHRcdFx0bGV0IGZibyA9IGNyZWF0ZUZCTyh3aWR0aCwgaGVpZ2h0LCByZ2JhLmludGVybmFsRm9ybWF0LCByZ2JhLmZvcm1hdCwgdGV4VHlwZSwgZmlsdGVyaW5nKTtcblx0XHRcdGJsb29tRnJhbWVidWZmZXJzLnB1c2goZmJvKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVGQk8odywgaCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSwgcGFyYW0pIHtcblx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcblx0XHRsZXQgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgcGFyYW0pO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBwYXJhbSk7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBpbnRlcm5hbEZvcm1hdCwgdywgaCwgMCwgZm9ybWF0LCB0eXBlLCBudWxsKTtcblxuXHRcdGxldCBmYm8gPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXHRcdGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvKTtcblx0XHRnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIHcsIGgpO1xuXHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRleHR1cmUsXG5cdFx0XHRmYm8sXG5cdFx0XHR3aWR0aDogdyxcblx0XHRcdGhlaWdodDogaCxcblx0XHRcdGF0dGFjaChpZCkge1xuXHRcdFx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaWQpO1xuXHRcdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVEb3VibGVGQk8odywgaCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSwgcGFyYW0pIHtcblx0XHRsZXQgZmJvMSA9IGNyZWF0ZUZCTyh3LCBoLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlLCBwYXJhbSk7XG5cdFx0bGV0IGZibzIgPSBjcmVhdGVGQk8odywgaCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSwgcGFyYW0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGdldCByZWFkKCkge1xuXHRcdFx0XHRyZXR1cm4gZmJvMTtcblx0XHRcdH0sXG5cdFx0XHRzZXQgcmVhZCh2YWx1ZSkge1xuXHRcdFx0XHRmYm8xID0gdmFsdWU7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0IHdyaXRlKCkge1xuXHRcdFx0XHRyZXR1cm4gZmJvMjtcblx0XHRcdH0sXG5cdFx0XHRzZXQgd3JpdGUodmFsdWUpIHtcblx0XHRcdFx0ZmJvMiA9IHZhbHVlO1xuXHRcdFx0fSxcblx0XHRcdHN3YXAoKSB7XG5cdFx0XHRcdGxldCB0ZW1wID0gZmJvMTtcblx0XHRcdFx0ZmJvMSA9IGZibzI7XG5cdFx0XHRcdGZibzIgPSB0ZW1wO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJlc2l6ZUZCTyh0YXJnZXQsIHcsIGgsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUsIHBhcmFtKSB7XG5cdFx0bGV0IG5ld0ZCTyA9IGNyZWF0ZUZCTyh3LCBoLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlLCBwYXJhbSk7XG5cdFx0Y2xlYXJQcm9ncmFtLmJpbmQoKTtcblx0XHRnbC51bmlmb3JtMWkoY2xlYXJQcm9ncmFtLnVuaWZvcm1zLnVUZXh0dXJlLCB0YXJnZXQuYXR0YWNoKDApKTtcblx0XHRnbC51bmlmb3JtMWYoY2xlYXJQcm9ncmFtLnVuaWZvcm1zLnZhbHVlLCAxKTtcblx0XHRibGl0KG5ld0ZCTy5mYm8pO1xuXHRcdHJldHVybiBuZXdGQk87XG5cdH1cblxuXHRmdW5jdGlvbiByZXNpemVEb3VibGVGQk8odGFyZ2V0LCB3LCBoLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlLCBwYXJhbSkge1xuXHRcdHRhcmdldC5yZWFkID0gcmVzaXplRkJPKHRhcmdldC5yZWFkLCB3LCBoLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlLCBwYXJhbSk7XG5cdFx0dGFyZ2V0LndyaXRlID0gY3JlYXRlRkJPKHcsIGgsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUsIHBhcmFtKTtcblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlVGV4dHVyZUFzeW5jKCkge1xuXHRcdGxldCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQiwgMSwgMSwgMCwgZ2wuUkdCLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheShbMjU1LCAyNTUsIDI1NV0pKTtcblxuXHRcdGxldCBvYmogPSB7XG5cdFx0XHR0ZXh0dXJlLFxuXHRcdFx0d2lkdGg6IDEsXG5cdFx0XHRoZWlnaHQ6IDEsXG5cdFx0XHRhdHRhY2goaWQpIHtcblx0XHRcdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGlkKTtcblx0XHRcdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG5cdFx0XHRcdHJldHVybiBpZDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdGluaXRGcmFtZWJ1ZmZlcnMoKTtcblx0bXVsdGlwbGVTcGxhdHMocGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDIwKSArIDUpO1xuXHR1cGRhdGUoKTtcblxuXHRmdW5jdGlvbiB1cGRhdGUoKSB7XG5cdFx0cmVzaXplQ2FudmFzKCk7XG5cdFx0aW5wdXQoKTtcblx0XHRpZiAoIWNvbmZpZy5QQVVTRUQpXG5cdFx0XHRzdGVwKDAuMDE2KTtcblx0XHRyZW5kZXIobnVsbCk7XG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dCgpIHtcblx0XHRpZiAoc3BsYXRTdGFjay5sZW5ndGggPiAwKVxuXHRcdFx0bXVsdGlwbGVTcGxhdHMoc3BsYXRTdGFjay5wb3AoKSk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBwID0gcG9pbnRlcnNbaV07XG5cdFx0XHRpZiAocC5tb3ZlZCkge1xuXHRcdFx0XHRzcGxhdChwLngsIHAueSwgcC5keCwgcC5keSwgcC5jb2xvcik7XG5cdFx0XHRcdHAubW92ZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm47XG5cdH1cblxuXHRmdW5jdGlvbiBzdGVwKGR0KSB7XG5cdFx0Z2wuZGlzYWJsZShnbC5CTEVORCk7XG5cdFx0Z2wudmlld3BvcnQoMCwgMCwgc2ltV2lkdGgsIHNpbUhlaWdodCk7XG5cblx0XHRjdXJsUHJvZ3JhbS5iaW5kKCk7XG5cdFx0Z2wudW5pZm9ybTJmKGN1cmxQcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gc2ltV2lkdGgsIDEuMCAvIHNpbUhlaWdodCk7XG5cdFx0Z2wudW5pZm9ybTFpKGN1cmxQcm9ncmFtLnVuaWZvcm1zLnVWZWxvY2l0eSwgdmVsb2NpdHkucmVhZC5hdHRhY2goMCkpO1xuXHRcdGJsaXQoY3VybC5mYm8pO1xuXG5cdFx0dm9ydGljaXR5UHJvZ3JhbS5iaW5kKCk7XG5cdFx0Z2wudW5pZm9ybTJmKHZvcnRpY2l0eVByb2dyYW0udW5pZm9ybXMudGV4ZWxTaXplLCAxLjAgLyBzaW1XaWR0aCwgMS4wIC8gc2ltSGVpZ2h0KTtcblx0XHRnbC51bmlmb3JtMWkodm9ydGljaXR5UHJvZ3JhbS51bmlmb3Jtcy51VmVsb2NpdHksIHZlbG9jaXR5LnJlYWQuYXR0YWNoKDApKTtcblx0XHRnbC51bmlmb3JtMWkodm9ydGljaXR5UHJvZ3JhbS51bmlmb3Jtcy51Q3VybCwgY3VybC5hdHRhY2goMSkpO1xuXHRcdGdsLnVuaWZvcm0xZih2b3J0aWNpdHlQcm9ncmFtLnVuaWZvcm1zLmN1cmwsIGNvbmZpZy5DVVJMKTtcblx0XHRnbC51bmlmb3JtMWYodm9ydGljaXR5UHJvZ3JhbS51bmlmb3Jtcy5kdCwgZHQpO1xuXHRcdGJsaXQodmVsb2NpdHkud3JpdGUuZmJvKTtcblx0XHR2ZWxvY2l0eS5zd2FwKCk7XG5cblx0XHRkaXZlcmdlbmNlUHJvZ3JhbS5iaW5kKCk7XG5cdFx0Z2wudW5pZm9ybTJmKGRpdmVyZ2VuY2VQcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gc2ltV2lkdGgsIDEuMCAvIHNpbUhlaWdodCk7XG5cdFx0Z2wudW5pZm9ybTFpKGRpdmVyZ2VuY2VQcm9ncmFtLnVuaWZvcm1zLnVWZWxvY2l0eSwgdmVsb2NpdHkucmVhZC5hdHRhY2goMCkpO1xuXHRcdGJsaXQoZGl2ZXJnZW5jZS5mYm8pO1xuXG5cdFx0Y2xlYXJQcm9ncmFtLmJpbmQoKTtcblx0XHRnbC51bmlmb3JtMWkoY2xlYXJQcm9ncmFtLnVuaWZvcm1zLnVUZXh0dXJlLCBwcmVzc3VyZS5yZWFkLmF0dGFjaCgwKSk7XG5cdFx0Z2wudW5pZm9ybTFmKGNsZWFyUHJvZ3JhbS51bmlmb3Jtcy52YWx1ZSwgY29uZmlnLlBSRVNTVVJFX0RJU1NJUEFUSU9OKTtcblx0XHRibGl0KHByZXNzdXJlLndyaXRlLmZibyk7XG5cdFx0cHJlc3N1cmUuc3dhcCgpO1xuXG5cdFx0cHJlc3N1cmVQcm9ncmFtLmJpbmQoKTtcblx0XHRnbC51bmlmb3JtMmYocHJlc3N1cmVQcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gc2ltV2lkdGgsIDEuMCAvIHNpbUhlaWdodCk7XG5cdFx0Z2wudW5pZm9ybTFpKHByZXNzdXJlUHJvZ3JhbS51bmlmb3Jtcy51RGl2ZXJnZW5jZSwgZGl2ZXJnZW5jZS5hdHRhY2goMCkpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmlnLlBSRVNTVVJFX0lURVJBVElPTlM7IGkrKykge1xuXHRcdFx0Z2wudW5pZm9ybTFpKHByZXNzdXJlUHJvZ3JhbS51bmlmb3Jtcy51UHJlc3N1cmUsIHByZXNzdXJlLnJlYWQuYXR0YWNoKDEpKTtcblx0XHRcdGJsaXQocHJlc3N1cmUud3JpdGUuZmJvKTtcblx0XHRcdHByZXNzdXJlLnN3YXAoKTtcblx0XHR9XG5cblx0XHRncmFkaWVuU3VidHJhY3RQcm9ncmFtLmJpbmQoKTtcblx0XHRnbC51bmlmb3JtMmYoZ3JhZGllblN1YnRyYWN0UHJvZ3JhbS51bmlmb3Jtcy50ZXhlbFNpemUsIDEuMCAvIHNpbVdpZHRoLCAxLjAgLyBzaW1IZWlnaHQpO1xuXHRcdGdsLnVuaWZvcm0xaShncmFkaWVuU3VidHJhY3RQcm9ncmFtLnVuaWZvcm1zLnVQcmVzc3VyZSwgcHJlc3N1cmUucmVhZC5hdHRhY2goMCkpO1xuXHRcdGdsLnVuaWZvcm0xaShncmFkaWVuU3VidHJhY3RQcm9ncmFtLnVuaWZvcm1zLnVWZWxvY2l0eSwgdmVsb2NpdHkucmVhZC5hdHRhY2goMSkpO1xuXHRcdGJsaXQodmVsb2NpdHkud3JpdGUuZmJvKTtcblx0XHR2ZWxvY2l0eS5zd2FwKCk7XG5cblx0XHRhZHZlY3Rpb25Qcm9ncmFtLmJpbmQoKTtcblx0XHRnbC51bmlmb3JtMmYoYWR2ZWN0aW9uUHJvZ3JhbS51bmlmb3Jtcy50ZXhlbFNpemUsIDEuMCAvIHNpbVdpZHRoLCAxLjAgLyBzaW1IZWlnaHQpO1xuXHRcdGlmICghZXh0LnN1cHBvcnRMaW5lYXJGaWx0ZXJpbmcpXG5cdFx0XHRnbC51bmlmb3JtMmYoYWR2ZWN0aW9uUHJvZ3JhbS51bmlmb3Jtcy5keWVUZXhlbFNpemUsIDEuMCAvIHNpbVdpZHRoLCAxLjAgLyBzaW1IZWlnaHQpO1xuXHRcdGxldCB2ZWxvY2l0eUlkID0gdmVsb2NpdHkucmVhZC5hdHRhY2goMCk7XG5cdFx0Z2wudW5pZm9ybTFpKGFkdmVjdGlvblByb2dyYW0udW5pZm9ybXMudVZlbG9jaXR5LCB2ZWxvY2l0eUlkKTtcblx0XHRnbC51bmlmb3JtMWkoYWR2ZWN0aW9uUHJvZ3JhbS51bmlmb3Jtcy51U291cmNlLCB2ZWxvY2l0eUlkKTtcblx0XHRnbC51bmlmb3JtMWYoYWR2ZWN0aW9uUHJvZ3JhbS51bmlmb3Jtcy5kdCwgZHQpO1xuXHRcdGdsLnVuaWZvcm0xZihhZHZlY3Rpb25Qcm9ncmFtLnVuaWZvcm1zLmRpc3NpcGF0aW9uLCBjb25maWcuVkVMT0NJVFlfRElTU0lQQVRJT04pO1xuXHRcdGJsaXQodmVsb2NpdHkud3JpdGUuZmJvKTtcblx0XHR2ZWxvY2l0eS5zd2FwKCk7XG5cblx0XHRnbC52aWV3cG9ydCgwLCAwLCBkeWVXaWR0aCwgZHllSGVpZ2h0KTtcblxuXHRcdGlmICghZXh0LnN1cHBvcnRMaW5lYXJGaWx0ZXJpbmcpXG5cdFx0XHRnbC51bmlmb3JtMmYoYWR2ZWN0aW9uUHJvZ3JhbS51bmlmb3Jtcy5keWVUZXhlbFNpemUsIDEuMCAvIGR5ZVdpZHRoLCAxLjAgLyBkeWVIZWlnaHQpO1xuXHRcdGdsLnVuaWZvcm0xaShhZHZlY3Rpb25Qcm9ncmFtLnVuaWZvcm1zLnVWZWxvY2l0eSwgdmVsb2NpdHkucmVhZC5hdHRhY2goMCkpO1xuXHRcdGdsLnVuaWZvcm0xaShhZHZlY3Rpb25Qcm9ncmFtLnVuaWZvcm1zLnVTb3VyY2UsIGRlbnNpdHkucmVhZC5hdHRhY2goMSkpO1xuXHRcdGdsLnVuaWZvcm0xZihhZHZlY3Rpb25Qcm9ncmFtLnVuaWZvcm1zLmRpc3NpcGF0aW9uLCBjb25maWcuREVOU0lUWV9ESVNTSVBBVElPTik7XG5cdFx0YmxpdChkZW5zaXR5LndyaXRlLmZibyk7XG5cdFx0ZGVuc2l0eS5zd2FwKCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXIodGFyZ2V0KSB7XG5cdFx0aWYgKGNvbmZpZy5CTE9PTSlcblx0XHRcdGFwcGx5Qmxvb20oZGVuc2l0eS5yZWFkLCBibG9vbSk7XG5cblx0XHRpZiAodGFyZ2V0ID09IG51bGwgfHwgIWNvbmZpZy5UUkFOU1BBUkVOVCkge1xuXHRcdFx0Z2wuYmxlbmRGdW5jKGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG5cdFx0XHRnbC5lbmFibGUoZ2wuQkxFTkQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRnbC5kaXNhYmxlKGdsLkJMRU5EKTtcblx0XHR9XG5cblx0XHRsZXQgd2lkdGggPSB0YXJnZXQgPT0gbnVsbCA/IGdsLmRyYXdpbmdCdWZmZXJXaWR0aCA6IGR5ZVdpZHRoO1xuXHRcdGxldCBoZWlnaHQgPSB0YXJnZXQgPT0gbnVsbCA/IGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQgOiBkeWVIZWlnaHQ7XG5cblx0XHRnbC52aWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHRcdGlmICghY29uZmlnLlRSQU5TUEFSRU5UKSB7XG5cdFx0XHRjb2xvclByb2dyYW0uYmluZCgpO1xuXHRcdFx0bGV0IGJjID0gY29uZmlnLkJBQ0tfQ09MT1I7XG5cdFx0XHRnbC51bmlmb3JtNGYoY29sb3JQcm9ncmFtLnVuaWZvcm1zLmNvbG9yLCBiYy5yIC8gMjU1LCBiYy5nIC8gMjU1LCBiYy5iIC8gMjU1LCAxKTtcblx0XHRcdGJsaXQodGFyZ2V0KTtcblx0XHR9XG5cblx0XHRpZiAodGFyZ2V0ID09IG51bGwgJiYgY29uZmlnLlRSQU5TUEFSRU5UKSB7XG5cdFx0XHRiYWNrZ3JvdW5kUHJvZ3JhbS5iaW5kKCk7XG5cdFx0XHRnbC51bmlmb3JtMWYoYmFja2dyb3VuZFByb2dyYW0udW5pZm9ybXMuYXNwZWN0UmF0aW8sIGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQpO1xuXHRcdFx0YmxpdChudWxsKTtcblx0XHR9XG5cblx0XHRpZiAoY29uZmlnLlNIQURJTkcpIHtcblx0XHRcdGxldCBwcm9ncmFtID0gY29uZmlnLkJMT09NID8gZGlzcGxheUJsb29tU2hhZGluZ1Byb2dyYW0gOiBkaXNwbGF5U2hhZGluZ1Byb2dyYW07XG5cdFx0XHRwcm9ncmFtLmJpbmQoKTtcblx0XHRcdGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gd2lkdGgsIDEuMCAvIGhlaWdodCk7XG5cdFx0XHRnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51VGV4dHVyZSwgZGVuc2l0eS5yZWFkLmF0dGFjaCgwKSk7XG5cdFx0XHRpZiAoY29uZmlnLkJMT09NKSB7XG5cdFx0XHRcdGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVCbG9vbSwgYmxvb20uYXR0YWNoKDEpKTtcblx0XHRcdFx0Z2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudURpdGhlcmluZywgZGl0aGVyaW5nVGV4dHVyZS5hdHRhY2goMikpO1xuXHRcdFx0XHRsZXQgc2NhbGUgPSBnZXRUZXh0dXJlU2NhbGUoZGl0aGVyaW5nVGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG5cdFx0XHRcdGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLmRpdGhlclNjYWxlLCBzY2FsZS54LCBzY2FsZS55KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHByb2dyYW0gPSBjb25maWcuQkxPT00gPyBkaXNwbGF5Qmxvb21Qcm9ncmFtIDogZGlzcGxheVByb2dyYW07XG5cdFx0XHRwcm9ncmFtLmJpbmQoKTtcblx0XHRcdGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVUZXh0dXJlLCBkZW5zaXR5LnJlYWQuYXR0YWNoKDApKTtcblx0XHRcdGlmIChjb25maWcuQkxPT00pIHtcblx0XHRcdFx0Z2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudUJsb29tLCBibG9vbS5hdHRhY2goMSkpO1xuXHRcdFx0XHRnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51RGl0aGVyaW5nLCBkaXRoZXJpbmdUZXh0dXJlLmF0dGFjaCgyKSk7XG5cdFx0XHRcdGxldCBzY2FsZSA9IGdldFRleHR1cmVTY2FsZShkaXRoZXJpbmdUZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KTtcblx0XHRcdFx0Z2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMuZGl0aGVyU2NhbGUsIHNjYWxlLngsIHNjYWxlLnkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGJsaXQodGFyZ2V0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFwcGx5Qmxvb20oc291cmNlLCBkZXN0aW5hdGlvbikge1xuXHRcdGlmIChibG9vbUZyYW1lYnVmZmVycy5sZW5ndGggPCAyKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0bGV0IGxhc3QgPSBkZXN0aW5hdGlvbjtcblxuXHRcdGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xuXHRcdGJsb29tUHJlZmlsdGVyUHJvZ3JhbS5iaW5kKCk7XG5cdFx0bGV0IGtuZWUgPSBjb25maWcuQkxPT01fVEhSRVNIT0xEICogY29uZmlnLkJMT09NX1NPRlRfS05FRSArIDAuMDAwMTtcblx0XHRsZXQgY3VydmUwID0gY29uZmlnLkJMT09NX1RIUkVTSE9MRCAtIGtuZWU7XG5cdFx0bGV0IGN1cnZlMSA9IGtuZWUgKiAyO1xuXHRcdGxldCBjdXJ2ZTIgPSAwLjI1IC8ga25lZTtcblx0XHRnbC51bmlmb3JtM2YoYmxvb21QcmVmaWx0ZXJQcm9ncmFtLnVuaWZvcm1zLmN1cnZlLCBjdXJ2ZTAsIGN1cnZlMSwgY3VydmUyKTtcblx0XHRnbC51bmlmb3JtMWYoYmxvb21QcmVmaWx0ZXJQcm9ncmFtLnVuaWZvcm1zLnRocmVzaG9sZCwgY29uZmlnLkJMT09NX1RIUkVTSE9MRCk7XG5cdFx0Z2wudW5pZm9ybTFpKGJsb29tUHJlZmlsdGVyUHJvZ3JhbS51bmlmb3Jtcy51VGV4dHVyZSwgc291cmNlLmF0dGFjaCgwKSk7XG5cdFx0Z2wudmlld3BvcnQoMCwgMCwgbGFzdC53aWR0aCwgbGFzdC5oZWlnaHQpO1xuXHRcdGJsaXQobGFzdC5mYm8pO1xuXG5cdFx0Ymxvb21CbHVyUHJvZ3JhbS5iaW5kKCk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBibG9vbUZyYW1lYnVmZmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGRlc3QgPSBibG9vbUZyYW1lYnVmZmVyc1tpXTtcblx0XHRcdGdsLnVuaWZvcm0yZihibG9vbUJsdXJQcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gbGFzdC53aWR0aCwgMS4wIC8gbGFzdC5oZWlnaHQpO1xuXHRcdFx0Z2wudW5pZm9ybTFpKGJsb29tQmx1clByb2dyYW0udW5pZm9ybXMudVRleHR1cmUsIGxhc3QuYXR0YWNoKDApKTtcblx0XHRcdGdsLnZpZXdwb3J0KDAsIDAsIGRlc3Qud2lkdGgsIGRlc3QuaGVpZ2h0KTtcblx0XHRcdGJsaXQoZGVzdC5mYm8pO1xuXHRcdFx0bGFzdCA9IGRlc3Q7XG5cdFx0fVxuXG5cdFx0Z2wuYmxlbmRGdW5jKGdsLk9ORSwgZ2wuT05FKTtcblx0XHRnbC5lbmFibGUoZ2wuQkxFTkQpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IGJsb29tRnJhbWVidWZmZXJzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRsZXQgYmFzZVRleCA9IGJsb29tRnJhbWVidWZmZXJzW2ldO1xuXHRcdFx0Z2wudW5pZm9ybTJmKGJsb29tQmx1clByb2dyYW0udW5pZm9ybXMudGV4ZWxTaXplLCAxLjAgLyBsYXN0LndpZHRoLCAxLjAgLyBsYXN0LmhlaWdodCk7XG5cdFx0XHRnbC51bmlmb3JtMWkoYmxvb21CbHVyUHJvZ3JhbS51bmlmb3Jtcy51VGV4dHVyZSwgbGFzdC5hdHRhY2goMCkpO1xuXHRcdFx0Z2wudmlld3BvcnQoMCwgMCwgYmFzZVRleC53aWR0aCwgYmFzZVRleC5oZWlnaHQpO1xuXHRcdFx0YmxpdChiYXNlVGV4LmZibyk7XG5cdFx0XHRsYXN0ID0gYmFzZVRleDtcblx0XHR9XG5cblx0XHRnbC5kaXNhYmxlKGdsLkJMRU5EKTtcblx0XHRibG9vbUZpbmFsUHJvZ3JhbS5iaW5kKCk7XG5cdFx0Z2wudW5pZm9ybTJmKGJsb29tRmluYWxQcm9ncmFtLnVuaWZvcm1zLnRleGVsU2l6ZSwgMS4wIC8gbGFzdC53aWR0aCwgMS4wIC8gbGFzdC5oZWlnaHQpO1xuXHRcdGdsLnVuaWZvcm0xaShibG9vbUZpbmFsUHJvZ3JhbS51bmlmb3Jtcy51VGV4dHVyZSwgbGFzdC5hdHRhY2goMCkpO1xuXHRcdGdsLnVuaWZvcm0xZihibG9vbUZpbmFsUHJvZ3JhbS51bmlmb3Jtcy5pbnRlbnNpdHksIGNvbmZpZy5CTE9PTV9JTlRFTlNJVFkpO1xuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIGRlc3RpbmF0aW9uLndpZHRoLCBkZXN0aW5hdGlvbi5oZWlnaHQpO1xuXHRcdGJsaXQoZGVzdGluYXRpb24uZmJvKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNwbGF0KHgsIHksIGR4LCBkeSwgY29sb3IpIHtcblx0XHRnbC52aWV3cG9ydCgwLCAwLCBzaW1XaWR0aCwgc2ltSGVpZ2h0KTtcblx0XHRzcGxhdFByb2dyYW0uYmluZCgpO1xuXHRcdGdsLnVuaWZvcm0xaShzcGxhdFByb2dyYW0udW5pZm9ybXMudVRhcmdldCwgdmVsb2NpdHkucmVhZC5hdHRhY2goMCkpO1xuXHRcdGdsLnVuaWZvcm0xZihzcGxhdFByb2dyYW0udW5pZm9ybXMuYXNwZWN0UmF0aW8sIGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQpO1xuXHRcdGdsLnVuaWZvcm0yZihzcGxhdFByb2dyYW0udW5pZm9ybXMucG9pbnQsIHggLyBjYW52YXMud2lkdGgsIDEuMCAtIHkgLyBjYW52YXMuaGVpZ2h0KTtcblx0XHRnbC51bmlmb3JtM2Yoc3BsYXRQcm9ncmFtLnVuaWZvcm1zLmNvbG9yLCBkeCwgLWR5LCAxLjApO1xuXHRcdGdsLnVuaWZvcm0xZihzcGxhdFByb2dyYW0udW5pZm9ybXMucmFkaXVzLCBjb25maWcuU1BMQVRfUkFESVVTIC8gMTAwLjApO1xuXHRcdGJsaXQodmVsb2NpdHkud3JpdGUuZmJvKTtcblx0XHR2ZWxvY2l0eS5zd2FwKCk7XG5cblx0XHRnbC52aWV3cG9ydCgwLCAwLCBkeWVXaWR0aCwgZHllSGVpZ2h0KTtcblx0XHRnbC51bmlmb3JtMWkoc3BsYXRQcm9ncmFtLnVuaWZvcm1zLnVUYXJnZXQsIGRlbnNpdHkucmVhZC5hdHRhY2goMCkpO1xuXHRcdGdsLnVuaWZvcm0zZihzcGxhdFByb2dyYW0udW5pZm9ybXMuY29sb3IsIGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXHRcdGJsaXQoZGVuc2l0eS53cml0ZS5mYm8pO1xuXHRcdGRlbnNpdHkuc3dhcCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbXVsdGlwbGVTcGxhdHMoYW1vdW50KSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuXHRcdFx0Y29uc3QgY29sb3IgPSBnZW5lcmF0ZUNvbG9yKCk7XG5cdFx0XHRjb2xvci5yICo9IDEwLjA7XG5cdFx0XHRjb2xvci5nICo9IDEwLjA7XG5cdFx0XHRjb2xvci5iICo9IDEwLjA7XG5cdFx0XHRjb25zdCB4ID0gY2FudmFzLndpZHRoICogTWF0aC5yYW5kb20oKTtcblx0XHRcdGNvbnN0IHkgPSBjYW52YXMuaGVpZ2h0ICogTWF0aC5yYW5kb20oKTtcblx0XHRcdGNvbnN0IGR4ID0gMTAwMCAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTtcblx0XHRcdGNvbnN0IGR5ID0gMTAwMCAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTtcblx0XHRcdHNwbGF0KHgsIHksIGR4LCBkeSwgY29sb3IpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcygpIHtcblx0XHRpZiAoY2FudmFzLndpZHRoICE9IGNhbnZhcy5jbGllbnRXaWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9IGNhbnZhcy5jbGllbnRIZWlnaHQpIHtcblx0XHRcdGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXHRcdFx0aW5pdEZyYW1lYnVmZmVycygpO1xuXHRcdH1cblx0fVxuXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jc3NfcHJlZml4JykuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7XG5cdFx0cG9pbnRlcnNbMF0uZG93biA9IHRydWU7XG5cdFx0cG9pbnRlcnNbMF0uY29sb3IgPSBnZW5lcmF0ZUNvbG9yKCk7XG5cdFx0cG9pbnRlcnNbMF0ubW92ZWQgPSBwb2ludGVyc1swXS5kb3duO1xuXHRcdHBvaW50ZXJzWzBdLmR4ID0gKGUuY2xpZW50WCAtIHBvaW50ZXJzWzBdLngpICogNS4wO1xuXHRcdHBvaW50ZXJzWzBdLmR5ID0gKGUuY2xpZW50WSAtIHBvaW50ZXJzWzBdLnkpICogNS4wO1xuXHRcdHBvaW50ZXJzWzBdLnggPSBlLmNsaWVudFg7XG5cdFx0cG9pbnRlcnNbMF0ueSA9IGUuY2xpZW50WTtcblxuXHR9KTtcblxuXHRmdW5jdGlvbiBnZW5lcmF0ZUNvbG9yKCkge1xuXHRcdGxldCBjID0gSFNWdG9SR0IoTWF0aC5yYW5kb20oKSwgMS4wLCAxLjApO1xuXHRcdGMuciAqPSAwLjE1O1xuXHRcdGMuZyAqPSAwLjE1O1xuXHRcdGMuYiAqPSAwLjE1O1xuXHRcdHJldHVybiBjO1xuXHR9XG5cblx0ZnVuY3Rpb24gSFNWdG9SR0IoaCwgcywgdikge1xuXHRcdGxldCByLCBnLCBiLCBpLCBmLCBwLCBxLCB0O1xuXHRcdGkgPSBNYXRoLmZsb29yKGggKiA2KTtcblx0XHRmID0gaCAqIDYgLSBpO1xuXHRcdHAgPSB2ICogKDEgLSBzKTtcblx0XHRxID0gdiAqICgxIC0gZiAqIHMpO1xuXHRcdHQgPSB2ICogKDEgLSAoMSAtIGYpICogcyk7XG5cblx0XHRzd2l0Y2ggKGkgJSA2KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHIgPSB2LCBnID0gdCwgYiA9IHA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRyID0gcSwgZyA9IHYsIGIgPSBwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0ciA9IHAsIGcgPSB2LCBiID0gdDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHIgPSBwLCBnID0gcSwgYiA9IHY7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRyID0gdCwgZyA9IHAsIGIgPSB2O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0ciA9IHYsIGcgPSBwLCBiID0gcTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHIsXG5cdFx0XHRnLFxuXHRcdFx0YlxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pIHtcblx0XHRsZXQgYXNwZWN0UmF0aW8gPSBnbC5kcmF3aW5nQnVmZmVyV2lkdGggLyBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0O1xuXHRcdGlmIChhc3BlY3RSYXRpbyA8IDEpXG5cdFx0XHRhc3BlY3RSYXRpbyA9IDEuMCAvIGFzcGVjdFJhdGlvO1xuXG5cdFx0bGV0IG1heCA9IE1hdGgucm91bmQocmVzb2x1dGlvbiAqIGFzcGVjdFJhdGlvKTtcblx0XHRsZXQgbWluID0gTWF0aC5yb3VuZChyZXNvbHV0aW9uKTtcblxuXHRcdGlmIChnbC5kcmF3aW5nQnVmZmVyV2lkdGggPiBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0KVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0d2lkdGg6IG1heCxcblx0XHRcdFx0aGVpZ2h0OiBtaW5cblx0XHRcdH07XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0d2lkdGg6IG1pbixcblx0XHRcdFx0aGVpZ2h0OiBtYXhcblx0XHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRUZXh0dXJlU2NhbGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR4OiB3aWR0aCAvIHRleHR1cmUud2lkdGgsXG5cdFx0XHR5OiBoZWlnaHQgLyB0ZXh0dXJlLmhlaWdodFxuXHRcdH07XG5cdH1cblx0dmFyIGJvb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNzc19wcmVmaXgtYm9vbVwiKTtcblx0aWYgKGJvb20gIT09IG51bGwpIHtcblx0XHRib29tLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0bXVsdGlwbGVTcGxhdHMocGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDIwKSArIDUpO1xuXHRcdH0pO1xuXHR9XG5cbn1cbiJdfQ==